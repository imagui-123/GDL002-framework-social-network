{"version":3,"sources":["images/catbus.jpg","auth/index.js","user/ForgotPassword.js","post/apiPost.js","post/Posts.js","core/Home.js","core/Navbar.js","user/Signup.js","user/Signin.js","user/SocialLogin.js","user/apiUser.js","user/DeleteUser.js","user/FollowProfileButton.js","user/ProfileTabs.js","user/Profile.js","user/User.js","user/EditProfile.js","user/FindPeople.js","post/NewPost.js","post/EditPost.js","post/Comment.js","post/SinglePost.js","auth/PrivateRoute.js","user/ResetPassword.js","MainRouter.js","App.js","index.js","images/avatar.png"],"names":["module","exports","__webpack_require__","p","signup","user","fetch","concat","process","method","headers","Accept","Content-Type","body","JSON","stringify","then","response","json","catch","err","console","log","signin","authenticate","jwt","next","window","localStorage","setItem","signout","removeItem","isAuthenticated","getItem","parse","forgotPassword","email","resetPassword","resetInfo","socialLogin","ForgotPassword","state","message","error","e","preventDefault","_this","setState","data","_this2","this","react_default","a","createElement","className","src","alt","type","placeholder","value","name","onChange","target","autoFocus","onClick","Component","create","userId","token","post","Authorization","singlePost","postId","listByUser","remove","update","like","unlike","comment","uncomment","Posts","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","renderPosts","posts","map","i","posterId","postedBy","_id","posterName","key","title","onError","DefaultPost","style","height","width","substring","react_router_dom","to","Date","created","toDateString","length","Home","post_Posts","isActive","history","path","location","pathname","color","withRouter","_ref","Fragment","cursor","push","Signup","handleChange","event","defineProperty","clickSubmit","_this$state","password","open","signupForm","_this$state2","display","Signin","loading","redirectToReferer","signinForm","react_router","read","updateUser","auth","follow","followId","unfollow","unfollowId","DeleteUser","redirect","deleteAccount","props","deleteConfirmed","confirm","FollowProfileButton","followClick","onButtonClick","unfollowClick","following","ProfileTabs","_this$props","followers","person","borderRadius","border","DefaultProfile","Profile","checkFollow","find","follower","clickFollowButton","callApi","init","redirectToSignin","loadPosts","match","params","photoUrl","getTime","class","user_DeleteUser","user_FollowProfileButton","about","user_ProfileTabs","Users","renderUsers","users","EditProfile","redirectToProfile","id","isValid","fileSize","test","_this$setState","files","size","userData","set","accept","FormData","FindPeople","clickFollow","toFollow","splice","followMessage","findPeople","NewPost","postData","photo","newPostForm","EditPost","editPostForm","Comment","text","addComment","updateComments","comments","deleteComment","onSubmit","SinglePost","redirectToHome","likes","checkLike","indexOf","componentDidMount","likeToggle","deletePost","renderPost","objectFit","padding","post_Comment","reverse","PrivateRoute","component","rest","objectWithoutProperties","assign","render","from","ResetPassword","newPassword","resetPasswordLink","resetPasswordToken","MainRouter","core_Navbar","exact","auth_PrivateRoute","App","src_MainRouter","ReactDOM","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.795e5d15.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/catbus.a41561aa.jpg\";","export const signup = user =>{ \r\n \r\n  return fetch( `${process.env.REACT_APP_API_URL}/signup`, {\r\n          method: \"POST\",\r\n          headers: {\r\n              Accept: \"appication/json}\",\r\n              \"Content-Type\": \"application/json\"\r\n          },\r\n          \r\n          body: JSON.stringify(user)\r\n      })\r\n      .then(response => {\r\n          return response.json()\r\n      })\r\n      .catch(err => console.log(err));\r\n  };\r\n\r\nexport const  signin = user =>{\r\n  return fetch( `${process.env.REACT_APP_API_URL}/signin`, {\r\n      method: \"POST\",\r\n      headers: {\r\n          Accept: \"appication/json\",\r\n          \"Content-Type\": \"application/json\"\r\n      },\r\n      body: JSON.stringify(user)\r\n  })\r\n  .then(response => {\r\n      return response.json()\r\n  })\r\n  .catch(err => console.log(err))\r\n};\r\n\r\nexport const authenticate =  (jwt, next) => {\r\n  if(typeof window !== \"undefined\"){\r\n      localStorage.setItem(\"jwt\", JSON.stringify(jwt))\r\n      next();\r\n  }\r\n};\r\n\r\nexport const signout = next => {\r\n    if (typeof window !== \"undefined\") localStorage.removeItem(\"jwt\");\r\n    next();\r\n    return fetch( `${process.env.REACT_APP_API_URL}/signout`, {\r\n      method: \"GET\"\r\n    })\r\n      .then(response => {\r\n        console.log(\"signout\", response);\r\n        return response.json();\r\n      })\r\n      .catch(err => console.log(err));\r\n  };\r\n  \r\n  export const isAuthenticated = () => {\r\n    if (typeof window == \"undefined\") {\r\n      return false\r\n    }\r\n    if (localStorage.getItem(\"jwt\")) {\r\n      return JSON.parse(localStorage.getItem(\"jwt\"));\r\n    } else {\r\n      return false\r\n    }\r\n  };\r\n\r\n  export const forgotPassword = email => {\r\n    console.log(\"email: \", email);\r\n    return fetch(`${process.env.REACT_APP_API_URL}/forgot-password/`, {\r\n        method: \"PUT\",\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\"\r\n        },\r\n        body: JSON.stringify({ email })\r\n    })\r\n        .then(response => {\r\n            console.log(\"forgot password response: \", response);\r\n            return response.json();\r\n        })\r\n        .catch(err => console.log(err));\r\n};\r\n \r\nexport const resetPassword = resetInfo => {\r\n    return fetch(`${process.env.REACT_APP_API_URL}/reset-password/`, {\r\n        method: \"PUT\",\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\"\r\n        },\r\n        body: JSON.stringify(resetInfo)\r\n    })\r\n        .then(response => {\r\n            console.log(\"forgot password response: \", response);\r\n            return response.json();\r\n        })\r\n        .catch(err => console.log(err));\r\n};\r\n\r\nexport const socialLogin = user => {\r\n  return fetch(`${process.env.REACT_APP_API_URL}/social-login/`, {\r\n      method: \"POST\",\r\n      headers: {\r\n          Accept: \"application/json\",\r\n          \"Content-Type\": \"application/json\"\r\n      },\r\n      // credentials: \"include\", // works only in the same origin\r\n      body: JSON.stringify(user)\r\n  })\r\n      .then(response => {\r\n          console.log(\"signin response: \", response);\r\n          return response.json();\r\n      })\r\n      .catch(err => console.log(err));\r\n};","import React, { Component } from \"react\";\r\nimport { forgotPassword } from \"../auth\";\r\nimport '../style/bckgStyle.css';\r\nimport '../style/loginStyle.css';\r\n \r\nclass ForgotPassword extends Component {\r\n    state = {\r\n        email: \"\",\r\n        message: \"\",\r\n        error: \"\"\r\n    };\r\n \r\n    forgotPassword = e => {\r\n        e.preventDefault();\r\n        this.setState({ message: \"\", error: \"\" });\r\n        forgotPassword(this.state.email).then(data => {\r\n            if (data.error) {\r\n                console.log(data.error);\r\n                this.setState({ error: data.error });\r\n            } else {\r\n                console.log(data.message);\r\n                this.setState({ message: data.message });\r\n            }\r\n        });\r\n    };\r\n \r\n    render() {\r\n        \r\n        return (\r\n    \r\n            <div className=\"container \">\r\n                <h2 className=\"mt-5 mb-5\">Password Reset</h2>\r\n \r\n                {this.state.message && (\r\n                    <h4 className=\"bg-success\">{this.state.message}</h4>\r\n                )}\r\n                {this.state.error && (\r\n                    <h4 className=\"bg-warning\">{this.state.error}</h4>\r\n                )}\r\n                <div className=\"container h-100 bckg-forgot\">\r\n        <div className=\"d-flex justify-content-center h-100\">\r\n            <div className=\"user_card\">\r\n            <div className=\"d-flex justify-content-center\">\r\n                <div className=\"brand_logo_container\">\r\n                    <img src=\"https://cdn.dribbble.com/users/2296468/screenshots/5637499/image.gif\" className=\"brand_logo\" alt=\"Logo\" />\r\n                </div>\r\n            </div>\r\n                <div className=\"d-flex justify-content-center form-container\">\r\n                <form>\r\n                    <div className=\"form-group mt-5\">\r\n                        <input\r\n                            type=\"email\"\r\n                            className=\"form-control\"\r\n                            placeholder=\"Your email address\"\r\n                            value={this.state.email}\r\n                            name=\"email\"\r\n                            onChange={e =>\r\n                                this.setState({\r\n                                    email: e.target.value,\r\n                                    message: \"\",\r\n                                    error: \"\"\r\n                                })\r\n                            }\r\n                            autoFocus\r\n                        />\r\n                    </div>\r\n                    <button\r\n                        onClick={this.forgotPassword}\r\n                        className=\"btn btn-raised btn-primary\"\r\n                    >\r\n                        Send Password Rest Link\r\n                    </button>\r\n                </form>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        </div>\r\n        </div>\r\n        );\r\n    }\r\n}\r\n \r\nexport default ForgotPassword;","export const create = (userId, token, post) => {\r\n    return fetch (`${process.env.REACT_APP_API_URL}/post/${userId}`, {\r\n        method: \"POST\",\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            Authorization: `Bearer ${token}`\r\n        },\r\n        body: post\r\n    })\r\n    .then(response => {\r\n        return response.json();\r\n    })\r\n    .catch( err => console.log(err));\r\n};\r\n\r\nexport const list = () => {\r\n    return fetch (`${process.env.REACT_APP_API_URL}/posts`, {\r\n        method: \"GET\",\r\n    })\r\n    .then(response => {\r\n        return response.json();\r\n    })\r\n    .catch( err => console.log(err));\r\n};\r\n\r\nexport const singlePost = (postId) => {\r\n    return fetch (`${process.env.REACT_APP_API_URL}/post/${postId}`, {\r\n        method: \"GET\",\r\n    })\r\n    .then(response => {\r\n        return response.json();\r\n    })\r\n    .catch( err => console.log(err));\r\n};\r\n\r\nexport const listByUser = (userId, token) => {\r\n    return fetch (`${process.env.REACT_APP_API_URL}/posts/${userId}`, {\r\n        method: \"GET\",\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\",\r\n            Authorization: `Bearer ${token}`\r\n        },\r\n    })\r\n    .then(response => {\r\n        return response.json();\r\n    })\r\n    .catch( err => console.log(err));\r\n};\r\n\r\nexport const remove = (postId, token) => {\r\n    return fetch (`${process.env.REACT_APP_API_URL}/post/${postId}`, {\r\n        method: \"DELETE\",\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\",\r\n            Authorization: `Bearer ${token}`\r\n        }\r\n    })\r\n    .then(response => {\r\n        return response.json();\r\n    })\r\n    .catch( err => console.log(err));\r\n};\r\n\r\nexport const update = (postId, token, post) => {\r\n    return fetch (`${process.env.REACT_APP_API_URL}/post/${postId}`, {\r\n        method: \"PUT\",\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            Authorization: `Bearer ${token}`\r\n        },\r\n        body: post\r\n    })\r\n    .then(response => {\r\n        return response.json();\r\n    })\r\n    .catch( err => console.log(err));\r\n};\r\n\r\nexport const like = (userId, token, postId) => {\r\n    return fetch (`${process.env.REACT_APP_API_URL}/post/like`, {\r\n        method: \"PUT\",\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\",\r\n            Authorization: `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify({userId, postId})\r\n    })\r\n    .then(response => {\r\n        return response.json();\r\n    })\r\n    .catch( err => console.log(err));\r\n};\r\n\r\nexport const unlike = (userId, token, postId) => {\r\n    return fetch (`${process.env.REACT_APP_API_URL}/post/unlike`, {\r\n        method: \"PUT\",\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\",\r\n            Authorization: `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify({userId, postId})\r\n    })\r\n    .then(response => {\r\n        return response.json();\r\n    })\r\n    .catch( err => console.log(err));\r\n};\r\n\r\n\r\nexport const comment = (userId, token, postId, comment) => {\r\n    return fetch (`${process.env.REACT_APP_API_URL}/post/comment`, {\r\n        method: \"PUT\",\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\",\r\n            Authorization: `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify({userId, postId, comment})\r\n    })\r\n    .then(response => {\r\n        return response.json();\r\n    })\r\n    .catch( err => console.log(err));\r\n};\r\n\r\nexport const uncomment = (userId, token, postId, comment) => {\r\n    return fetch (`${process.env.REACT_APP_API_URL}/post/uncomment`, {\r\n        method: \"PUT\",\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\",\r\n            Authorization: `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify({userId, postId, comment})\r\n    })\r\n    .then(response => {\r\n        return response.json();\r\n    })\r\n    .catch( err => console.log(err));\r\n};","import React, { Component } from 'react';\r\nimport { list } from './apiPost';\r\nimport DefaultPost from '../images/catbus.jpg';\r\nimport {Link} from 'react-router-dom';\r\n\r\nclass Posts extends Component {\r\n    constructor(){\r\n        super()\r\n        this.state = {\r\n            posts: []\r\n        };\r\n    }\r\n\r\n    componentDidMount(){\r\n        list().then(data => {\r\n            if(data.error) {\r\n                console.log(data.error);\r\n            } else {\r\n                this.setState({posts: data});\r\n            }\r\n        });\r\n    }\r\n\r\n    renderPosts = posts => {\r\n        return (\r\n            <div className=\"row\">\r\n            {posts.map((post, i) => {\r\n                const posterId = post.postedBy ? `/user/${post.postedBy._id}` : \"\";\r\n                const posterName = post.postedBy ? post.postedBy.name : \" Unknown\";\r\n\r\n                 return (\r\n                    <div className=\"card col-md-4\"  key={i}>\r\n                    <div className=\"card-body\">\r\n                      <img \r\n                        src={`${process.env.REACT_APP_API_URL}/post/photo/${post._id}`} \r\n                        alt={post.title}  \r\n                        onError={i => i.target.src= `${DefaultPost}`} \r\n                        className=\"img-thumbnail mb-3\" \r\n                        style={{height: \"200px\", width: \"auto\"}}\r\n                      />\r\n                      <h5 className=\"card-title\">{post.title}</h5>\r\n                      <p className=\"card-text\">{post.body.substring(0, 80)}</p>\r\n                      <br />\r\n                      <p className= \"font-italic mark\">\r\n                            Posted by {\" \"}\r\n                     <Link to={`${posterId}`}>\r\n                            {posterName}{\" \"}\r\n                     </Link>\r\n                     on {new Date(post.created).toDateString()}\r\n                      </p>\r\n                      <Link to={`/post/${post._id}`} className=\"btn btn-raised btn-primary btn-sm\">\r\n                            Read more\r\n                      </Link>\r\n                    </div>\r\n                  </div>\r\n                 )\r\n            })}\r\n        </div>\r\n        )\r\n    }\r\n\r\n    render(){\r\n        const { posts } = this.state;\r\n        return (\r\n            <div className=\"container\">\r\n                <h2 className=\"mt-5 mb-5\">{!posts.length ? 'Loading...' : \"Recent Posts\"}</h2>\r\n                {this.renderPosts(posts)}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Posts;","import React from \"react\";\r\nimport Posts from \"../post/Posts\";\r\nimport '../style/bckgStyle.css';\r\n\r\n\r\nconst Home = () => (\r\n  <div className='bckg-home'>\r\n    <div className=\"jumbotron bckg-home2 bg-white\">\r\n     \r\n      <p className=\"lead\"><h2>Welcome</h2></p>\r\n    </div>\r\n    <div className=\"container\">\r\n      <Posts />\r\n    </div>\r\n  </div>\r\n);\r\n\r\nexport default Home;\r\n","/* eslint-disable jsx-a11y/anchor-is-valid */\r\nimport React from \"react\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\nimport {signout, isAuthenticated} from '../auth';\r\n\r\nconst isActive = (history, path) => {\r\n  if (history.location.pathname === path) return { color: \"#ff9900\" };\r\n  else return { color: \"#ffffff\" };\r\n};\r\n\r\n\r\nconst Navbar = ({ history }) => (\r\n  <div>\r\n    <ul className=\"nav nav-tabs bg-primary\">\r\n      <li className=\"nav-item\">\r\n        <Link className=\"nav-link\" \r\n              style={isActive(history, \"/\")} to=\"/\">\r\n          Home\r\n        </Link>\r\n      </li>\r\n\r\n      <li className=\"nav-item\">\r\n        <Link className=\"nav-link\" \r\n              style={isActive(history, \"/users\")} to=\"/users\">\r\n          Users\r\n        </Link>\r\n      </li> \r\n      \r\n      <li className=\"nav-item\">\r\n          <Link \r\n             to={`/post/create`} \r\n             style={isActive(history, `/post/create`)} \r\n             className=\"nav-link\">\r\n              Create Post\r\n          </Link>\r\n        </li>\r\n\r\n      {!isAuthenticated() && (\r\n        <>\r\n          <li className=\"nav-item\">\r\n            <Link\r\n              className=\"nav-link\"\r\n              style={isActive(history, \"/signin\")}\r\n              to=\"/signin\"\r\n            >\r\n              Sign In\r\n            </Link>\r\n          </li>\r\n          <li className=\"nav-item\">\r\n            <Link\r\n              className=\"nav-link\"\r\n              style={isActive(history, \"/signup\")}\r\n              to=\"/signup\"\r\n            >\r\n              Sign up\r\n            </Link>\r\n          </li>\r\n        </>\r\n      )}\r\n      {isAuthenticated() && (\r\n        <>\r\n        <li className=\"nav-item\">\r\n          <Link to={`/findpeople`} \r\n             style={isActive(history, `/findpeople`)} \r\n             className=\"nav-link\">\r\n              Find people\r\n          </Link>\r\n        </li>\r\n\r\n        <li className=\"nav-item\">\r\n          <Link to={`/user/${isAuthenticated().user._id}`} \r\n             style={isActive(history, `/user/${isAuthenticated().user._id}`)} \r\n             className=\"nav-link\">\r\n              {`${isAuthenticated().user.name}'s profile`}\r\n          </Link>\r\n        </li>\r\n\r\n        <li className=\"nav-item\">\r\n            <span\r\n                className=\"nav-link\"\r\n                style={\r\n                        (isActive(history, \"/signup\"),\r\n                        { cursor: \"pointer\", color: \"#fff\" })\r\n                      }\r\n                onClick={() => signout(() => history.push(\"/\"))}>\r\n                  Sign Out\r\n            </span>\r\n        </li>\r\n\r\n        </>\r\n      )}\r\n        </ul>\r\n      </div> \r\n);\r\n\r\nexport default withRouter(Navbar);\r\n","import React, {Component} from 'react';\r\nimport { signup } from '../auth';\r\nimport {Link} from 'react-router-dom';\r\nimport '../style/bckgStyle.css';\r\nimport '../style/loginStyle.css';\r\n\r\nclass Signup extends Component {\r\n   constructor() {\r\n       super()\r\n       this.state = {\r\n            name: \"\",\r\n            email: \"\",\r\n            password: \"\",\r\n            error: \"\",\r\n            open: false\r\n       };\r\n   }\r\n\r\n    handleChange = name => event => {\r\n        this.setState({error: \"\"}); //quitar el alert cuando se empieze a escribir\r\n        this.setState({ [name]: event.target.value});\r\n    };\r\n\r\n    clickSubmit = event => {\r\n        event.preventDefault();\r\n        const {name, email, password} = this.state;\r\n        const user = {\r\n            name,\r\n            email,\r\n            password\r\n        };\r\n        console.log(user);\r\n        signup(user).then(data => {\r\n             if(data.error) this.setState({error: data.error});\r\n             else this.setState({\r\n                 error: \"\",\r\n                 name: \"\",\r\n                 email: \"\",\r\n                 password: \"\",\r\n                 open: true\r\n             });\r\n          });\r\n    };\r\n\r\n\r\n  signupForm = (name, email, password) => (\r\n    <div className=\"container h-100 bckg-signup\">\r\n        <div className=\"d-flex justify-content-center h-100\">\r\n        <div className=\"user_card\">\r\n        <div className=\"d-flex justify-content-center\">\r\n                <div className=\"brand_logo_container\">\r\n                    <img src=\"https://cdn.dribbble.com/users/2296468/screenshots/5637499/image.gif\" className=\"brand_logo\" alt=\"Logo\" />\r\n                </div>\r\n        </div>\r\n        <div className=\"d-flex justify-content-center form-container\">\r\n        <form>\r\n            <div className=\"input-group mb-3\">\r\n                <div className=\"input-group-append\">\r\n                    <span className=\"input-group-text\"><i className=\"fas fa-user\"></i> </span> \r\n                </div>\r\n                <input onChange={this.handleChange(\"name\")} type=\"text\" className=\"form-control input_user\" value = {name} placeholder=\"Name\"/>\r\n            </div>\r\n            <div className=\"input-group mb-2\">\r\n                <div className=\"input-group-append\">\r\n                    <span className=\"input-group-text\"><i className=\"fas fa-envelope\"></i> </span> \r\n                </div>\r\n                <input onChange={this.handleChange(\"email\")} type=\"email\" className=\"form-control input_user\" value = {email} placeholder=\"email\" />\r\n            </div>\r\n            <div className=\"input-group mb-1\">\r\n                <div className=\"input-group-append\">\r\n                    <span className=\"input-group-text\"><i className=\"fas fa-key\"></i> </span>\r\n                </div>\r\n                <input \r\n                    onChange={this.handleChange(\"password\")} \r\n                    type=\"password\" \r\n                    className=\"form-control input_pass\" \r\n                    value = {password}\r\n                    placeholder=\"password\"\r\n                />\r\n            </div>\r\n            <div className=\"d-flex justify-content-center mt-3 login_container\">\r\n                <button onClick={this.clickSubmit} className=\"btn login_btn\" >Submit</button>\r\n            </div>\r\n    </form>\r\n    </div>\r\n    </div>\r\n    </div>\r\n    </div>\r\n    );\r\n\r\n    render() {\r\n        const {name, email, password, error, open} = this.state;\r\n        return (\r\n            <div className=\"container\">\r\n                <h2 className=\"mt-5 mb-5\">Signup</h2>\r\n\r\n                <div className=\"alert alert-danger\" \r\n                    style={{display:error ? \"\" : \"none\"}}>\r\n                    {error}\r\n                </div>\r\n\r\n                <div className=\"alert alert-info\" \r\n                    style={{display: open ? \"\" : \"none\"}}>\r\n                    New account is successfully created. Please{\" \"} \r\n                    <Link to=\"/signin\">Sign In</Link>\r\n                </div>\r\n\r\n               {this.signupForm(name, email, password)}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Signup;","import React, { Component } from 'react';\r\nimport { Link, Redirect } from 'react-router-dom';\r\nimport { signin, authenticate } from '../auth';\r\nimport SocialLogin from \"./SocialLogin\";\r\nimport '../style/bckgStyle.css';\r\nimport '../style/loginStyle.css';\r\n\r\nclass Signin extends Component{\r\n    constructor() {\r\n        super()\r\n        this.state = {\r\n             email: \"\",\r\n             password: \"\",\r\n             error: \"\",\r\n             redirectToReferer: false,\r\n             loading: false\r\n           \r\n        };\r\n    }\r\n \r\n     handleChange = name => event => {\r\n         this.setState({error: \"\"}); //quitar el alert cuando se empieze a escribir\r\n         this.setState({ [name]: event.target.value});\r\n     };\r\n \r\n     clickSubmit = event => {\r\n         event.preventDefault();\r\n         this.setState({loading: true})\r\n         const {email, password} = this.state;\r\n         const user = {\r\n             email,\r\n             password\r\n         };\r\n         console.log(user);\r\n        signin(user).then(data => {\r\n              if(data.error) {\r\n                this.setState({error: data.error, loading:false})\r\n              }\r\n              else{\r\n                  //authenticate\r\n                  authenticate(data, () => {\r\n                      this.setState({redirectToReferer: true})\r\n                  });\r\n              }\r\n           });\r\n     };\r\n \r\n\r\n   signinForm = ( email, password) => (\r\n<div className=\"container h-100 bckg-signin\">\r\n    <div className=\"d-flex justify-content-center h-100\">\r\n        <div className=\"user_card\">\r\n            <div className=\"d-flex justify-content-center\">\r\n                <div className=\"brand_logo_container\">\r\n                    <img src=\"https://cdn.dribbble.com/users/2296468/screenshots/5637499/image.gif\" className=\"brand_logo\" alt=\"Logo\" />\r\n                </div>\r\n            </div>\r\n            <div className=\"d-flex justify-content-center form-container\">\r\n                <form>\r\n                    <div className=\"input-group mb-3\">\r\n                        <div className=\"input-group-append\">\r\n                            <span className=\"input-group-text\"><i className=\"fas fa-envelope\"></i> </span>    \r\n                        </div>\r\n                        <input onChange={this.handleChange(\"email\")} type=\"email\" className=\"form-control input_user\" value = {email} placeholder=\" email\"/>\r\n                    </div>\r\n                    <div className=\"input-group mb-2\">\r\n                        <div className=\"input-group-append\">\r\n                            <span className=\"input-group-text\"><i className=\"fas fa-key\"></i> </span>\r\n                        </div>\r\n                        <input onChange={this.handleChange(\"password\")} type=\"password\" className=\"form-control input_pass\" value = { password} placeholder= \" password\"/>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n            <div className=\"d-flex justify-content-center mt-3 login_container\">\r\n                   {/*  <button type=\"button\" name=\"button\" className=\"btn login_btn\">Login</button> */}\r\n                    <button onClick={this.clickSubmit} type=\"button\" className=\"btn login_btn\">Submit</button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n     );\r\n \r\n     render() {\r\n         const {email, password, error, redirectToReferer, loading} = this.state;\r\n         if(redirectToReferer){\r\n             return <Redirect  to=\"/\" />\r\n         }\r\n         return (\r\n             <div className=\"container\">\r\n                 <h2 className=\"mt-5 mb-5\">Sign In</h2>\r\n                   {/*  <hr />\r\n                        <SocialLogin />\r\n                    <hr /> */}\r\n                 <div className=\"alert alert-danger\" \r\n                     style={{display:error ? \"\" : \"none\"}}>\r\n                     {error}\r\n                 </div>\r\n\r\n                 { loading ? (\r\n                     <div className=\"jumbotron text-center\">\r\n                        <h2>Loading...</h2>\r\n                    </div>\r\n                 ) : (\r\n                    \"\"\r\n                 )}\r\n \r\n                {this.signinForm(email, password)}\r\n                <p>\r\n            <Link to=\"/forgot-password\" className=\"d-flex justify-content-center links\">\r\n                {\" \"}\r\n                Forgot Password\r\n            </Link>\r\n            </p>   \r\n             </div>\r\n         );\r\n     }\r\n }\r\n\r\n\r\nexport default Signin;","import React, { Component } from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport GoogleLogin from \"react-google-login\";\r\nimport { socialLogin, authenticate } from \"../auth\";\r\n \r\nclass SocialLogin extends Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            redirectToReferrer: false\r\n        };\r\n    }\r\n \r\n    responseGoogle = response => {\r\n        console.log(response);\r\n        const { googleId, name, email, imageUrl } = response.profileObj;\r\n        const user = {\r\n            password: googleId,\r\n            name: name,\r\n            email: email,\r\n            imageUrl: imageUrl\r\n        };\r\n        // console.log(\"user obj to social login: \", user);\r\n        socialLogin(user).then(data => {\r\n            console.log(\"signin data: \", data);\r\n            if (data.error) {\r\n                console.log(\"Error Login. Please try again..\");\r\n            } else {\r\n                console.log(\"signin success - setting jwt: \", data);\r\n                authenticate(data, () => {\r\n                    this.setState({ redirectToReferrer: true });\r\n                });\r\n            }\r\n        });\r\n    };\r\n \r\n    render() {\r\n        // redirect\r\n        const { redirectToReferrer } = this.state;\r\n        if (redirectToReferrer) {\r\n            return <Redirect to=\"/\" />;\r\n        }\r\n \r\n        return (\r\n            <GoogleLogin\r\n                clientId=\"389682818843-3qcm8ksmajfv37j8ndferaetbhd9iana.apps.googleusercontent.com\"\r\n                buttonText=\"Login with Google\"\r\n                onSuccess={this.responseGoogle}\r\n                onFailure={this.responseGoogle}\r\n            />\r\n        );\r\n    }\r\n}\r\n \r\nexport default SocialLogin;","export const read = (userId, token) => {\r\n    return fetch (`${process.env.REACT_APP_API_URL}/user/${userId}`, {\r\n        method: \"GET\",\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\",\r\n            Authorization: `Bearer ${token}`\r\n        }\r\n    })\r\n    .then(response => {\r\n        return response.json();\r\n    })\r\n    .catch( err => console.log(err));\r\n};\r\n\r\nexport const remove = (userId, token) => {\r\n    return fetch (`${process.env.REACT_APP_API_URL}/user/${userId}`, {\r\n        method: \"DELETE\",\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\",\r\n            Authorization: `Bearer ${token}`\r\n        }\r\n    })\r\n    .then(response => {\r\n        return response.json();\r\n    })\r\n    .catch( err => console.log(err));\r\n};\r\n\r\nexport const update = (userId, token, user) => {\r\n    //console.log(\"user data update \", user )\r\n    return fetch (`${process.env.REACT_APP_API_URL}/user/${userId}`, {\r\n        method: \"PUT\",\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            Authorization: `Bearer ${token}`\r\n        },\r\n        body: user\r\n    })\r\n    .then(response => {\r\n        return response.json();\r\n    })\r\n    .catch( err => console.log(err));\r\n};\r\n\r\nexport const list = () => {\r\n    return fetch (`${process.env.REACT_APP_API_URL}/users`, {\r\n        method: \"GET\",\r\n    })\r\n    .then(response => {\r\n        return response.json();\r\n    })\r\n    .catch( err => console.log(err));\r\n};\r\n\r\nexport const updateUser = (user, next) => {\r\n    if(typeof window !== \"undefined\") {\r\n        if(localStorage.getItem('jwt')) {\r\n            let auth = JSON.parse(localStorage.getItem('jwt'));\r\n            auth.user = user;\r\n            localStorage.setItem('jwt', JSON.stringify(auth));\r\n            next();\r\n        }\r\n    }\r\n};\r\n\r\nexport const follow = (userId, token, followId) => {\r\n    // console.log(\"user data update \", user );\r\n    return fetch (`${process.env.REACT_APP_API_URL}/user/follow`, {\r\n        method: \"PUT\",\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\",\r\n            Authorization: `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify({userId, followId})\r\n    })\r\n    .then(response => {\r\n        return response.json();\r\n    })\r\n    .catch( err => console.log(err));\r\n};\r\n\r\nexport const unfollow = (userId, token, unfollowId) => {\r\n    // console.log(\"user data update \", user );\r\n    return fetch (`${process.env.REACT_APP_API_URL}/user/unfollow`, {\r\n        method: \"PUT\",\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\",\r\n            Authorization: `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify({userId, unfollowId})\r\n    })\r\n    .then(response => {\r\n        return response.json();\r\n    })\r\n    .catch( err => console.log(err));\r\n};\r\n\r\nexport const findPeople =(userId, token) => {\r\n    // console.log(\"user data update \", user );\r\n    return fetch (`${process.env.REACT_APP_API_URL}/user/findPeople/${userId}`, {\r\n        method: \"GET\",\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\",\r\n            Authorization: `Bearer ${token}`\r\n        },\r\n    })\r\n    .then(response => {\r\n        return response.json();\r\n    })\r\n    .catch( err => console.log(err));\r\n};","import React, { Component} from 'react';\r\nimport {Redirect} from 'react-router-dom';\r\nimport {isAuthenticated} from '../auth';\r\nimport { remove } from './apiUser';\r\nimport { signout } from '../auth';\r\n\r\nclass DeleteUser extends Component {\r\n\r\n    state = {\r\n        redirect: false\r\n    };\r\n\r\n\r\n    deleteAccount = () => {\r\n        const token = isAuthenticated().token;\r\n        const userId = this.props.userId\r\n        remove(userId, token).then(data => {\r\n            if(data.error) {\r\n                console.log(data.error)\r\n            } else {\r\n                //signout user\r\n                signout(() => console.log(\"User is deleted\"));\r\n                // redirect\r\n                this.setState({ redirect: true});\r\n            }\r\n        })\r\n    };\r\n    \r\n    deleteConfirmed = () => {\r\n        let answer = window.confirm(\"Are you sure you want to delete your account?\")\r\n        if(answer){\r\n            this.deleteAccount();\r\n        }\r\n    };\r\n\r\n    render(){\r\n        if(this.state.redirect) {\r\n            return <Redirect to=\"/\" />;\r\n        }\r\n        return (\r\n            <button onClick={this.deleteConfirmed} className=\"btn btn-raised btn-danger\">\r\n                    Delete Profile\r\n            </button>\r\n        );\r\n    }\r\n}\r\n\r\nexport default DeleteUser;","import React, { Component } from 'react';\r\nimport {follow, unfollow} from './apiUser';\r\n\r\nclass FollowProfileButton extends Component {\r\n    followClick = () => {\r\n        this.props.onButtonClick(follow)\r\n    };\r\n\r\n    unfollowClick = () => {\r\n        this.props.onButtonClick(unfollow)\r\n    };\r\n    render() {\r\n        return (\r\n            <div className=\"d-inline-block\">\r\n            {\r\n                !this.props.following ?\r\n                (\r\n                    <button onClick={this.followClick} className=\"btn btn-success btn-raised mr-5\">\r\n                        Follow\r\n                    </button>\r\n                ) : (\r\n                    <button onClick={this.unfollowClick} className=\"btn btn-warning btn-raised\">\r\n                        UnFollow\r\n                    </button>\r\n                )\r\n            }\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default FollowProfileButton;","import React, { Component } from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport DefaultProfile from '../images/avatar.png';\r\n\r\nclass ProfileTabs extends Component {\r\n    render() {\r\n        const {following, followers, posts} = this.props\r\n        return (\r\n            <div>\r\n                <div className=\"row\">\r\n                    <div className=\"col-md-4\">\r\n                    <h3 className=\"text-info\">Followers</h3>\r\n                    <hr />\r\n                    {followers.map((person, i) => (\r\n                        <div key={i}>\r\n                                <div>\r\n                                    <Link to={`/user/$(person._id)`}>\r\n                                        <img \r\n                                            style={{borderRadius: \"50%\", border: \"1px solid black\"}}\r\n                                            className=\"float-left mr-2\"\r\n                                            height=\"30px\"\r\n                                            width=\"30px\"\r\n                                            onError={i=> (i.target.src = `${DefaultProfile}`)}\r\n                                            src={`${process.env.REACT_APP_API_URL}/user/photo/${person._id}`} \r\n                                            alt={person.name} \r\n                                        />\r\n                                        <div>\r\n                                            <p className=\"lead\">{person.name}</p>\r\n                                        </div>\r\n                                    </Link>\r\n                                </div>\r\n                        </div>\r\n                        ))}\r\n                    </div>\r\n\r\n\r\n                    <div className=\"col-md-4\">\r\n                        <h3 className=\"text-info\">Following</h3>\r\n                         <hr />\r\n                        {following.map((person, i) => (\r\n                        <div key={i}>\r\n                                <div>\r\n                                    <Link to={`/user/$(person._id)`}>\r\n                                        <img \r\n                                            style={{borderRadius: \"50%\", border: \"1px solid black\"}}\r\n                                            className=\"float-left mr-2\"\r\n                                            height=\"30px\"\r\n                                            width= \"30px\"\r\n                                            onError={i=> (i.target.src = `${DefaultProfile}`)}\r\n                                            src={`${process.env.REACT_APP_API_URL}/user/photo/${person._id}`} \r\n                                            alt={person.name} \r\n                                        />\r\n                                        <div>\r\n                                            <p className=\"lead\">{person.name}</p>\r\n                                        </div>\r\n                                    </Link>\r\n                                </div>\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n\r\n                    <div className=\"col-md-4\">\r\n                        <h3 className=\"text-info\">Posts</h3>\r\n                        <hr />\r\n                        {posts.map((post, i) => (\r\n                            <div key={i}>\r\n                                    <div>\r\n                                        <Link to={`/post/${post._id}`}>\r\n                                            <div>\r\n                                                <p className=\"lead\">{post.title}</p>\r\n                                            </div>\r\n                                        </Link>\r\n                                    </div>\r\n                                </div>\r\n                            ))}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default  ProfileTabs","import React, {Component} from 'react';\r\nimport { isAuthenticated } from '../auth';\r\nimport { Redirect, Link } from 'react-router-dom';\r\nimport { read } from './apiUser';\r\nimport DefaultProfile from '../images/avatar.png';\r\nimport DeleteUser from './DeleteUser';\r\nimport FollowProfileButton from './FollowProfileButton';\r\nimport ProfileTabs from './ProfileTabs';\r\nimport { listByUser } from \"../post/apiPost\";\r\nimport '../style/bckgStyle.css';\r\n\r\nclass Profile extends Component {\r\n    constructor(){\r\n        super()\r\n        this.state = {\r\n            user: {following: [], followers: []},\r\n            redirectToSignin: false,\r\n            following: false,\r\n            error: \"\",\r\n            posts: [] \r\n        };\r\n    }\r\n\r\n    //check follow\r\n    checkFollow = user => {\r\n        const jwt = isAuthenticated();\r\n        const match = user.followers.find(follower => {\r\n            //one id has many other ids followers and vice versa\r\n            return follower._id === jwt.user._id\r\n        })\r\n        return match\r\n    };\r\n\r\n    clickFollowButton = callApi => {\r\n        const userId = isAuthenticated().user._id;\r\n        const token = isAuthenticated().token;\r\n\r\n        callApi(userId, token, this.state.user._id)\r\n        .then(data => {\r\n            if(data.error) {\r\n                this.setState({error: data.error})\r\n            } else {\r\n                this.setState({user: data, following: !this.state.following})\r\n            }\r\n        })\r\n    }\r\n\r\n    init = userId => {\r\n        const token = isAuthenticated().token;\r\n        read(userId, token)\r\n        .then(data => {\r\n            if(data.error) {\r\n                this.setState({redirectToSignin:true});\r\n            } else {\r\n                let following = this.checkFollow(data);\r\n                this.setState({user: data, following});\r\n                this.loadPosts(data._id);\r\n            }\r\n        });\r\n    };\r\n\r\n    loadPosts = userId => {\r\n        const token = isAuthenticated().token;\r\n        listByUser(userId, token).then(data => {\r\n            if(data.error) {\r\n                console.log(data.error)\r\n            } else {\r\n                this.setState({posts: data})\r\n            }\r\n        });\r\n    };\r\n\r\n    componentDidMount(){\r\n        console.log( `${process.env.REACT_APP_API_URL}`)\r\n        const userId = this.props.match.params.userId;\r\n        this.init(userId);\r\n    }\r\n\r\n    componentWillReceiveProps(props){\r\n        const userId = props.match.params.userId;\r\n        this.init(userId);\r\n    }\r\n    \r\n    render(){\r\n        const {redirectToSignin, user, posts} = this.state;\r\n        if(redirectToSignin) return <Redirect to=\"/signin\" />;\r\n\r\n        const photoUrl = user._id \r\n        ? `${process.env.REACT_APP_API_URL}/user/photo/${user._id}?${new Date().getTime()}` \r\n        : DefaultProfile;\r\n\r\n        return (\r\n           <div className=\"bckg-profile\">\r\n            <div className=\"container bckg-cover \">\r\n           \r\n                <h2 className=\"mt-5 mb-5\">Profile</h2>\r\n                <div className=\"row\">\r\n                    <div className=\"col-md-4\">\r\n                    <img style={{height: \"200px\", width: \"auto\"}} \r\n                        className=\"img-thumbnail\" \r\n                        src={photoUrl} \r\n                        onError={i=> (i.target.src = `${DefaultProfile}`)}\r\n                        alt={user.name} /> \r\n                    </div>\r\n\r\n                    <div className=\"col-md-8\">\r\n                        <div className=\"lead mt-2\">\r\n                            <p><i class=\"far fa-user\"></i> {user.name}</p>\r\n                            <p>Email: {user.email}</p>\r\n                            <p>{`Joined ${new Date(user.created).toDateString()}`}</p>\r\n                        </div>\r\n\r\n                       {isAuthenticated().user && \r\n                            isAuthenticated().user._id === user._id ? (\r\n                                <div className=\"d-inline-block\">\r\n                                    <Link className=\"btn btn-raised btn-info mr-5\" to={`/post/create`}>\r\n                                        Create Post\r\n                                    </Link>\r\n\r\n                                    <Link className=\"btn btn-raised btn-success mr-5\" to={`/user/edit/${user._id}`}>\r\n                                        Edit Profile\r\n                                    </Link>\r\n                                   <DeleteUser userId={user._id}/>\r\n                                </div>\r\n                            ) : (\r\n                                <FollowProfileButton following={this.state.following} \r\n                                onButtonClick = {this.clickFollowButton}\r\n                                />\r\n                            )}\r\n                \r\n                    </div>\r\n                </div>\r\n                <div className=\"row\">\r\n                    <div className=\"col md-12 mt-5 mb-5\">\r\n                        <hr />\r\n                        <p className=\"lead\">{user.about}</p>\r\n                        <hr />\r\n\r\n                        <ProfileTabs \r\n                                    followers={user.followers} \r\n                                    following={user.following}\r\n                                    posts = {posts} \r\n                        />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Profile;","import React, { Component } from 'react';\r\nimport { list } from './apiUser';\r\nimport DefaultProfile from '../images/avatar.png';\r\nimport {Link} from 'react-router-dom';\r\nimport '../style/bckgStyle.css';\r\nimport '../style/loginStyle.css';\r\n\r\nclass Users extends Component {\r\n    constructor(){\r\n        super()\r\n        this.state = {\r\n            users: []\r\n        };\r\n    }\r\n\r\n    componentDidMount(){\r\n        list().then(data => {\r\n            if(data.error) {\r\n                console.log(data.error);\r\n            } else {\r\n                this.setState({users: data});\r\n            }\r\n        });\r\n    }\r\n\r\n    renderUsers = users => (\r\n        <div className=\"row \">\r\n            {users.map((user, i) => (\r\n                <div className=\"card col-md-4\"  key={i}>\r\n                <img style={{height: \"200px\", width: \"auto\"}} \r\n                        className=\"img-thumbnail\" \r\n                        src={`${process.env.REACT_APP_API_URL}/user/photo/${user._id}`} \r\n                        onError={i=> (i.target.src = `${DefaultProfile}`)}\r\n                        alt={user.name} />\r\n                <div className=\"card-body\">\r\n                  <h5 className=\"card-title\">{user.name}</h5>\r\n                  <p className=\"card-text\">{user.email}</p>\r\n                  <Link to={`/user/${user._id}`} className=\"btn btn-raised btn-primary btn-sm\">\r\n                        View Profile\r\n                  </Link>\r\n                </div>\r\n              </div> \r\n            ))}\r\n        </div>\r\n    )\r\n\r\n    render(){\r\n        const { users } = this.state;\r\n        return (\r\n            \r\n            <div className=\"container bckg-user\">\r\n                <h2 className=\"mt-5 mb-5\">Users</h2>\r\n                {this.renderUsers(users)}\r\n            </div>\r\n       \r\n        );\r\n    }\r\n}\r\n\r\nexport default Users;\r\n\r\n","import React, { Component } from 'react'\r\nimport {isAuthenticated} from '../auth';\r\nimport { read, update, updateUser } from \"./apiUser\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport DefaultProfile from '../images/avatar.png';\r\n\r\nclass EditProfile extends Component {\r\n    constructor(){\r\n        super()\r\n        this.state = {\r\n            id: \"\",\r\n            name: \"\",\r\n            email: \"\",\r\n            password: \"\",\r\n            redirectToProfile: false,\r\n            error: \"\",\r\n            fileSize: 0,\r\n            loading: false,\r\n            about:\"\"\r\n        };\r\n    }\r\n\r\n    init = userId => {\r\n        const token = isAuthenticated().token\r\n        read(userId, token).then(data => {\r\n            if(data.error) {\r\n                this.setState({redirectToProfile:true});\r\n            } else {\r\n                this.setState({\r\n                    id: data._id, \r\n                    name: data.name, \r\n                    email: data.email,\r\n                    error:\"\",\r\n                    about: data.about                    \r\n                });\r\n            }\r\n        });\r\n    };\r\n\r\n    componentDidMount(){\r\n        //send photo to backend\r\n        this.userData = new FormData()  \r\n        const userId = this.props.match.params.userId;\r\n        this.init(userId);\r\n    }\r\n\r\n    isValid = () => {\r\n        const {name, email, password, fileSize} = this.state;\r\n        if(fileSize > 200000) {\r\n            this.setState({ error: \"File size should be less than 200kb\"});\r\n            return false;\r\n        }\r\n        if(name.length === 0){\r\n            this.setState({error: \"Name is required\", loading: false});\r\n            return false;\r\n        }\r\n        //email@domain.com\r\n        if(!/^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/.test(email)){\r\n            this.setState({error: \"A valid Email is required\", loading: false});\r\n            return false;\r\n        }\r\n        if(password.length >= 1 && password.length <=5){\r\n            this.setState({error: \"Password must be at least 6 characters long\", loading: false});\r\n            return false;\r\n        }\r\n        return true\r\n    };\r\n\r\n    handleChange = name => event => {\r\n        this.setState({ error: \"\"});\r\n        const value = name === \"photo\" ? event.target.files[0] : event.target.value;\r\n        const fileSize = name === \"photo\" ? event.target.files[0].size : 0;\r\n        this.userData.set(name, value);\r\n        this.setState({ [name]: value, fileSize});\r\n    };\r\n\r\n    clickSubmit = event => {\r\n        event.preventDefault();\r\n        this.setState({loading: true})\r\n\r\n        if(this.isValid()) {\r\n                     \r\n            const userId = this.props.match.params.userId;\r\n            const token = isAuthenticated().token;\r\n            \r\n            update(userId, token, this.userData).then(data => {\r\n                if(data.error) this.setState({error: data.error});\r\n                else \r\n                    updateUser(data, () => {\r\n                        this.setState({\r\n                            redirectToProfile: true\r\n                    });\r\n                });\r\n            });\r\n        }\r\n    };\r\n\r\n    signupForm = (name, email, password, about) => (\r\n        <form>\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Profile Photo </label>\r\n                <input \r\n                    onChange={this.handleChange(\"photo\")} \r\n                    type=\"file\"\r\n                    accept=\"image/*\" \r\n                    className=\"form-control\"\r\n                />\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Name </label>\r\n                <input \r\n                    onChange={this.handleChange(\"name\")} \r\n                    type=\"text\" \r\n                    className=\"form-control\"\r\n                    value = {name} />\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Email</label>\r\n                <input \r\n                    onChange={this.handleChange(\"email\")} \r\n                    type=\"email\" \r\n                    className=\"form-control\" \r\n                    value = {email}\r\n                />\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">About </label>\r\n                <textarea\r\n                    onChange={this.handleChange(\"about\")} \r\n                    type=\"text\" \r\n                    className=\"form-control\"\r\n                    value = {about} />\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Password</label>\r\n                <input \r\n                    onChange={this.handleChange(\"password\")} \r\n                    type=\"password\" \r\n                    className=\"form-control\" \r\n                    value = {password}\r\n                />\r\n            </div>\r\n        <button onClick={this.clickSubmit} className=\"btn btn-raised btn-primary\">Update</button>\r\n    </form>\r\n    );\r\n\r\n    render() {\r\n        const { \r\n                id, \r\n                name, \r\n                email, \r\n                password, \r\n                redirectToProfile, \r\n                error, \r\n                loading, \r\n                about \r\n              } = this.state;\r\n        \r\n        if(redirectToProfile){\r\n            return <Redirect to={`/user/${id}`} />;\r\n        }\r\n\r\n        const photoUrl = id \r\n        ? `${process.env.REACT_APP_API_URL}/user/photo/${id}?${new Date().getTime()}` \r\n        : DefaultProfile;\r\n   \r\n        return (\r\n            <div className=\"container\">\r\n                <h2 className=\"mt-5 mb-5\">Edit Profile</h2>\r\n                <div className=\"alert alert-danger\"\r\n                      style={{display: error ? \"\" : \"none\"}}>\r\n                        {error}\r\n                </div>\r\n\r\n                { loading ? (\r\n                    <div className=\"jumbotron text-center\">\r\n                       <h2>Loading...</h2>\r\n                    </div>\r\n                ) : (\r\n                    \"\"\r\n                )}\r\n\r\n                <img style={{height: \"200px\", width: \"auto\"}} \r\n                className=\"img-thumbnail\" \r\n                src={photoUrl} \r\n                onError={i=> (i.target.src = `${DefaultProfile}`)}\r\n                alt={name} /> \r\n\r\n                {this.signupForm(name, email, password, about)}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default EditProfile;","import React, { Component } from 'react';\r\nimport { findPeople, follow } from './apiUser';\r\nimport DefaultProfile from '../images/avatar.png';\r\nimport {Link} from 'react-router-dom';\r\nimport {isAuthenticated} from '../auth';\r\nimport '../style/bckgStyle.css';\r\nimport '../style/loginStyle.css';\r\n\r\nclass FindPeople extends Component {\r\n    constructor(){\r\n        super()\r\n        this.state = {\r\n            users: [],\r\n            error: \"\",\r\n            open: false\r\n        };\r\n    }\r\n\r\n    componentDidMount(){\r\n        const userId = isAuthenticated().user._id;\r\n        const token = isAuthenticated().token;\r\n\r\n        findPeople(userId, token).then(data => {\r\n            if(data.error) {\r\n                console.log(data.error);\r\n            } else {\r\n                this.setState({users: data});\r\n            }\r\n        });\r\n    }\r\n\r\n    clickFollow =(user, i) =>{\r\n        const userId = isAuthenticated().user._id;\r\n        const token = isAuthenticated().token;\r\n\r\n        follow(userId, token, user._id)\r\n        .then ( data => {\r\n            if(data.error){\r\n                this.setState({error: data.error})\r\n            } else {\r\n                let toFollow = this.state.users;\r\n                toFollow.splice(i, 1)\r\n                this.setState({\r\n                    users: toFollow,\r\n                    open: true,\r\n                    followMessage: `Following ${user.name}`\r\n                })\r\n            }\r\n        });\r\n    }\r\n\r\n    renderUsers = users => (\r\n        <div className=\"row\">\r\n            {users.map((user, i) => (\r\n                <div className=\"card col-md-4\"  key={i}>\r\n                <img style={{height: \"200px\", width: \"auto\"}} \r\n                        className=\"img-thumbnail\" \r\n                        src={`${process.env.REACT_APP_API_URL}/user/photo/${user._id}`} \r\n                        onError={i=> (i.target.src = `${DefaultProfile}`)}\r\n                        alt={user.name} />\r\n                <div className=\"card-body\">\r\n                  <h5 className=\"card-title\">{user.name}</h5>\r\n                  <p className=\"card-text\">{user.email}</p>\r\n                  <Link to={`/user/${user._id}`} className=\"btn btn-raised btn-primary btn-sm\">\r\n                        View Profile\r\n                  </Link>\r\n\r\n                  <button onClick={() => this.clickFollow(user, i)} className=\"btn btn-raised btn-info float-right btn-sr\">\r\n                        Follow\r\n                  </button>\r\n                </div>\r\n              </div> \r\n            ))}\r\n        </div>\r\n    )\r\n\r\n    render(){\r\n        const { users, open, followMessage } = this.state;\r\n        return (\r\n            <div className=\"container bckg-find\">\r\n                <h2 className=\"mt-5 mb-5\">Find People</h2>\r\n                \r\n                {open && (\r\n                    <div className=\"alert alert-success\">\r\n                        {open && (<p>{followMessage}</p>)}\r\n                    </div>\r\n                )}\r\n\r\n                {this.renderUsers(users)}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default FindPeople;","import React, { Component } from 'react'\r\nimport {isAuthenticated} from '../auth';\r\nimport { create } from \"./apiPost\";\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\n\r\n\r\nclass NewPost extends Component {\r\n    constructor(){\r\n        super()\r\n        this.state = {\r\n            title: \"\",\r\n            body: \"\",\r\n            photo: \"\",\r\n            error: \"\",\r\n            user: {},\r\n            fileSize: 0,\r\n            loading: false,\r\n            redirectToProfile: false\r\n        };\r\n    }\r\n\r\n    componentDidMount(){\r\n        this.postData = new FormData();\r\n        this.setState({user: isAuthenticated().user}) \r\n    }\r\n\r\n    isValid = () => {\r\n        const {title, body, fileSize} = this.state;\r\n        if(fileSize > 100000) {\r\n            this.setState({ error: \"File size should be less than 100kb\"});\r\n            return false;\r\n        }\r\n        if(title.length === 0|| body.length === 0) {\r\n            this.setState({error: \"All fields are required\", loading: false});\r\n            return false;\r\n        }\r\n        return true;\r\n    };\r\n\r\n    handleChange = name => event => {\r\n        this.setState({ error: \"\"});\r\n        const value = name === \"photo\" ? event.target.files[0] : event.target.value;\r\n        const fileSize = name === \"photo\" ? event.target.files[0].size : 0;\r\n        this.postData.set(name, value);\r\n        this.setState({ [name]: value, fileSize });\r\n    };\r\n\r\n    clickSubmit = event => {\r\n        event.preventDefault();\r\n        this.setState({loading: true})\r\n\r\n        if(this.isValid()) {\r\n                     \r\n            const userId = isAuthenticated().user._id;\r\n            const token = isAuthenticated().token;\r\n            \r\n            create(userId, token, this.postData).then(data => {\r\n                if(data.error) this.setState({error: data.error});\r\n                else {\r\n                    this.setState({loading: false, title: \"\", body:\"\", photo: \"\", redirectToProfile: true})\r\n                }\r\n            });\r\n        }\r\n    };\r\n\r\n    newPostForm = (title, body) => (\r\n        <form>\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Profile Photo </label>\r\n                <input \r\n                    onChange={this.handleChange(\"photo\")} \r\n                    type=\"file\"\r\n                    accept=\"image/*\" \r\n                    className=\"form-control\"\r\n                />\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Title </label>\r\n                <input \r\n                    onChange={this.handleChange(\"title\")} \r\n                    type=\"text\" \r\n                    className=\"form-control\"\r\n                    value = {title} />\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Body </label>\r\n                <textarea\r\n                    onChange={this.handleChange(\"body\")} \r\n                    type=\"text\" \r\n                    className=\"form-control\"\r\n                    value = {body} />\r\n            </div>\r\n\r\n        <button onClick={this.clickSubmit} className=\"btn btn-raised btn-primary\">\r\n                Create Post\r\n        </button>\r\n    </form>\r\n    );\r\n\r\n    render() {\r\n        const { \r\n            title,\r\n            body,\r\n            user,\r\n            error,\r\n            loading,\r\n            redirectToProfile\r\n              } = this.state;\r\n        \r\n        if(redirectToProfile){\r\n            return <Redirect to={`/user/${user._id}`} />;\r\n        }\r\n\r\n   \r\n        return (\r\n            <div className=\"container bckg-post\">\r\n                <h2 className=\"mt-5 mb-5\">Create a new post</h2>\r\n                <div className=\"alert alert-danger\"\r\n                      style={{display: error ? \"\" : \"none\"}}>\r\n                        {error}\r\n                </div>\r\n\r\n                { loading ? (\r\n                    <div className=\"jumbotron text-center\">\r\n                       <h2>Loading...</h2>\r\n                    </div>\r\n                ) : (\r\n                    \"\"\r\n                )}\r\n\r\n                {this.newPostForm(title, body)}\r\n            </div>\r\n        \r\n        );\r\n    }\r\n}\r\n\r\nexport default NewPost;","import React, { Component } from 'react';\r\nimport {singlePost, update} from './apiPost';\r\nimport {isAuthenticated} from '../auth';\r\nimport { Redirect } from \"react-router-dom\";\r\nimport DefaultPost from '../images/catbus.jpg';\r\n\r\nclass EditPost extends Component {\r\n    constructor(){\r\n        super();\r\n        this.state = {\r\n            id: \"\",\r\n            title: \"\",\r\n            body: \"\",\r\n            redirectToProfile: false,\r\n            error: \"\"\r\n        }\r\n    }\r\n\r\n    init = postId => {\r\n        singlePost(postId).then(data => {\r\n            if(data.error) {\r\n                this.setState({redirectToProfile:true});\r\n            } else {\r\n                this.setState({\r\n                    id: data._id, \r\n                    title: data.title, \r\n                    body: data.body,\r\n                    error:\"\",\r\n                    fileSize: 0,\r\n                    loading: false                  \r\n                });\r\n            }\r\n        });\r\n    };\r\n\r\ncomponentDidMount(){\r\n        this.postData = new FormData()  \r\n        const postId = this.props.match.params.postId;\r\n        this.init(postId);\r\n}\r\n\r\nisValid = () => {\r\n    const {title, body, fileSize} = this.state;\r\n    if(fileSize > 100000) {\r\n        this.setState({ error: \"File size should be less than 100kb\"});\r\n        return false;\r\n    }\r\n    if(title.length === 0|| body.length === 0) {\r\n        this.setState({error: \"All fields are required\", loading: false});\r\n        return false;\r\n    }\r\n    return true;\r\n};\r\n\r\nhandleChange = name => event => {\r\n    this.setState({ error: \"\"});\r\n    const value = name === \"photo\" ? event.target.files[0] : event.target.value;\r\n    const fileSize = name === \"photo\" ? event.target.files[0].size : 0;\r\n    this.postData.set(name, value);\r\n    this.setState({ [name]: value, fileSize });\r\n};\r\n\r\nclickSubmit = event => {\r\n    event.preventDefault();\r\n    this.setState({loading: true})\r\n\r\n    if(this.isValid()) {\r\n                 \r\n        const postId = this.state.id;\r\n        const token = isAuthenticated().token;\r\n        \r\n        update(postId, token, this.postData).then(data => {\r\n            if(data.error) this.setState({error: data.error});\r\n            else {\r\n                this.setState({loading: false, title: \"\", body:\"\", photo: \"\", redirectToProfile: true})\r\n            }\r\n        });\r\n    }\r\n};\r\n\r\neditPostForm = (title, body) => (\r\n    <form>\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Post Photo </label>\r\n                <input \r\n                    onChange={this.handleChange(\"photo\")} \r\n                    type=\"file\"\r\n                    accept=\"image/*\" \r\n                    className=\"form-control\"\r\n                />\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Title </label>\r\n                <input \r\n                    onChange={this.handleChange(\"title\")} \r\n                    type=\"text\" \r\n                    className=\"form-control\"\r\n                    value = {title} />\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Body </label>\r\n                <textarea\r\n                    onChange={this.handleChange(\"body\")} \r\n                    type=\"text\" \r\n                    className=\"form-control\"\r\n                    value = {body} />\r\n            </div>\r\n\r\n        <button onClick={this.clickSubmit} className=\"btn btn-raised btn-primary\">\r\n                Update Post\r\n        </button>\r\n    </form>\r\n);\r\n    render() {\r\n        const {id, title, body, redirectToProfile, error, loading} = this.state;\r\n\r\n        if(redirectToProfile) {\r\n            return <Redirect to={`/user/${isAuthenticated().user._id}`} />;\r\n        }\r\n\r\n        return (\r\n            <div className=\"container\">\r\n                <h2 className=\"mt-5 mb-5\">{title}</h2>\r\n\r\n                <div className=\"alert alert-danger\"\r\n                      style={{display: error ? \"\" : \"none\"}}>\r\n                        {error}\r\n                </div>\r\n\r\n                { loading ? (\r\n                    <div className=\"jumbotron text-center\">\r\n                       <h2>Loading...</h2>\r\n                    </div>\r\n                ) : (\r\n                    \"\"\r\n                )}\r\n\r\n                <img style={{height: \"200px\", width: \"auto\"}} \r\n                    className=\"img-thumbnail\" \r\n                    src={`${process.env.REACT_APP_API_URL}/post/photo/${id}?${new Date().getTime()}`} \r\n                    onError={i => (i.target.src = `${DefaultPost}`)}\r\n                    alt={title} \r\n                /> \r\n                    {this.editPostForm(title, body)}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default EditPost;\r\n","import React, { Component } from \"react\";\r\nimport { comment, uncomment } from \"./apiPost\";\r\nimport { isAuthenticated } from \"../auth\";\r\nimport { Link } from \"react-router-dom\";\r\nimport DefaultProfile from '../images/avatar.png';\r\n\r\nclass Comment extends Component {\r\n  state = {\r\n    text: \"\",\r\n    error: \"\"\r\n  };\r\n\r\n  handleChange = event => {\r\n    this.setState({ error: \"\" });\r\n    this.setState({ text: event.target.value });\r\n  };\r\n\r\n  isValid = () => {\r\n    const { text } = this.state;\r\n    if (!text.length > 0 || text.length > 250) {\r\n      this.setState({\r\n        error: \"Comment should not be empty and less than 150 characters long\"\r\n      });\r\n      return false;\r\n    }\r\n    return true;\r\n  };\r\n\r\n  addComment = event => {\r\n    event.preventDefault();\r\n\r\n    if (!isAuthenticated()) {\r\n      this.setState({ error: \"Please signin to leave a comment\" });\r\n      return false;\r\n    }\r\n\r\n    if (this.isValid()) {\r\n      const userId = isAuthenticated().user._id;\r\n      const token = isAuthenticated().token;\r\n      const postId = this.props.postId;\r\n\r\n      comment(userId, token, postId, { text: this.state.text }).then(data => {\r\n        if (data.error) {\r\n          console.log(data.error);\r\n        } else {\r\n          this.setState({ text: \"\" });\r\n          this.props.updateComments(data.comments);\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  deleteComment = comment => {\r\n    const userId = isAuthenticated().user._id;\r\n    const token = isAuthenticated().token;\r\n    const postId = this.props.postId;\r\n\r\n    uncomment(userId, token, postId, comment).then(data => {\r\n      if (data.error) {\r\n        console.log(data.error);\r\n      } else {\r\n        this.props.updateComments(data.comments);\r\n      }\r\n    });\r\n  };\r\n\r\n  deleteConfirmed = comment => {\r\n    let answer = window.confirm(\r\n      \"Are you sure you want to delete your comment?\"\r\n    );\r\n    if (answer) {\r\n      this.deleteComment(comment);\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { comments } = this.props;\r\n    const { error } = this.state;\r\n\r\n    return (\r\n      <div>\r\n        <h2 className=\"mt-5 mb-5\">Leave a comment</h2>\r\n\r\n        <form onSubmit={this.addComment}>\r\n          <div className=\"form-group\">\r\n            <input\r\n              type=\"text\"\r\n              onChange={this.handleChange}\r\n              value={this.state.text}\r\n              className=\"form-control\"\r\n              placeholder=\"Leave a comment...\"\r\n            />\r\n            <button className=\"btn btn-raised btn-success mt-2\">Post</button>\r\n          </div>\r\n        </form>\r\n\r\n        <div\r\n          className=\"alert alert-danger\"\r\n          style={{ display: error ? \"\" : \"none\" }}\r\n        >\r\n          {error}\r\n        </div>\r\n\r\n        <div className=\"col-md-12\">\r\n          <h3 className=\"text-primary\">{comments.length} Comments</h3>\r\n          <hr />\r\n          {comments.map((comment, i) => (\r\n            <div key={i}>\r\n              <div>\r\n                <Link to={`/user/$(comment.postedBy._id)`}>\r\n                  <img\r\n                    style={{ borderRadius: \"50%\", border: \"1px solid black\" }}\r\n                    className=\"float-left mr-2\"\r\n                    height=\"30px\"\r\n                    width=\"30px\"\r\n                    onError={i => (i.target.src = `${DefaultProfile}`)}\r\n                    src={`${process.env.REACT_APP_API_URL}/user/photo/${comment.postedBy._id}`}\r\n                    alt={comment.postedBy.name}\r\n                  />\r\n                </Link>\r\n                <div>\r\n                  <p className=\"lead\">{comment.text}</p>\r\n                  <p className=\"font-italic mark\">\r\n                    Posted by{\" \"}\r\n                    <Link to={`/user/${comment.postedBy._id}`}>\r\n                      {comment.postedBy.name}{\" \"}\r\n                    </Link>\r\n                    on {new Date(comment.created).toDateString()}\r\n                    <span>\r\n                      {isAuthenticated().user &&\r\n                        isAuthenticated().user._id === comment.postedBy._id && (\r\n                          <>\r\n                            <span\r\n                              onClick={() => this.deleteConfirmed(comment)}\r\n                              className=\"text-danger float-right mr-1\"\r\n                            >\r\n                              Remove\r\n                            </span>\r\n                          </>\r\n                        )}\r\n                    </span>\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Comment;\r\n","import React, { Component } from \"react\";\r\nimport { singlePost, remove, like, unlike } from \"./apiPost\";\r\nimport DefaultPost from '../images/catbus.jpg';\r\nimport { Link, Redirect } from \"react-router-dom\";\r\nimport { isAuthenticated } from \"../auth\";\r\nimport Comment from \"./Comment\";\r\n\r\nclass SinglePost extends Component {\r\n  state = {\r\n    post: \"\",\r\n    redirectToHome: false,\r\n    redirectToSignin: false,\r\n    like: false,\r\n    likes: 0,\r\n    comments: []\r\n  };\r\n\r\n  checkLike = likes => {\r\n    const userId = isAuthenticated() && isAuthenticated().user._id;\r\n    let match = likes.indexOf(userId) !== -1;\r\n    return match;\r\n  };\r\n\r\n  componentDidMount = () => {\r\n    const postId = this.props.match.params.postId;\r\n    singlePost(postId).then(data => {\r\n      if (data.error) {\r\n        console.log(data.error);\r\n      } else {\r\n        this.setState({\r\n          post: data,\r\n          likes: data.likes.length,\r\n          like: this.checkLike(data.likes),\r\n          comments: data.comments\r\n        });\r\n      }\r\n    });\r\n  };\r\n\r\n  updateComments = comments => {\r\n    this.setState({ comments });\r\n  };\r\n\r\n  likeToggle = () => {\r\n    if (!isAuthenticated()) {\r\n      this.setState({ redirectToSignin: true });\r\n      return false;\r\n    }\r\n    let callApi = this.state.like ? unlike : like;\r\n    const userId = isAuthenticated().user._id;\r\n    const postId = this.state.post._id;\r\n    const token = isAuthenticated().token;\r\n\r\n    callApi(userId, token, postId).then(data => {\r\n      if (data.error) {\r\n        console.log(data.error);\r\n      } else {\r\n        this.setState({\r\n          like: !this.state.like,\r\n          likes: data.likes.length\r\n        });\r\n      }\r\n    });\r\n  };\r\n\r\n  deletePost = () => {\r\n    const postId = this.props.match.params.postId;\r\n    const token = isAuthenticated().token;\r\n    remove(postId, token).then(data => {\r\n      if (data.error) {\r\n        console.log(data.error);\r\n      } else {\r\n        this.setState({ redirectToHome: true });\r\n      }\r\n    });\r\n  };\r\n\r\n  deleteConfirmed = () => {\r\n    let answer = window.confirm(\"Are you sure you want to delete?\");\r\n    if (answer) {\r\n      this.deletePost();\r\n    }\r\n  };\r\n\r\n  renderPost = post => {\r\n    const posterId = post.postedBy ? `/user/${post.postedBy._id}` : \"\";\r\n    const posterName = post.postedBy ? post.postedBy.name : \" Unknown\";\r\n\r\n    const { like, likes } = this.state;\r\n\r\n    return (\r\n      <div className=\"card-body\">\r\n        <img\r\n          src={`${process.env.REACT_APP_API_URL}/post/photo/${post._id}`}\r\n          alt={post.title}\r\n          onError={i => (i.target.src = `${DefaultPost}`)}\r\n          className=\"img-thumbnail mb-3\"\r\n          style={{ height: \"300px\", width: \"100%\", objectFit: \"cover\" }}\r\n        />\r\n\r\n        {like ? (\r\n          <h3 onClick={this.likeToggle}>\r\n            <i\r\n              className=\"fas fa-thumbs-up text-success bg-dark\"\r\n              style={{ padding: \"10px\", borderRadius: \"50%\" }}\r\n            />{\" \"}\r\n            {likes} \r\n          </h3>\r\n        ) : (\r\n          <h3 >\r\n            <i\r\n              className=\"fas fa-thumbs-up text-warning bg-dark\"\r\n              style={{ padding: \"10px\", borderRadius: \"50%\" }}\r\n              onClick={this.likeToggle}\r\n            />{\" \"}\r\n            {likes} \r\n          </h3>\r\n        )}\r\n\r\n        <p className=\"card-text\">{post.body}</p>\r\n        <br />\r\n        <p className=\"font-italic mark\">\r\n          Posted by <Link to={`${posterId}`}>{posterName} </Link>\r\n          on {new Date(post.created).toDateString()}\r\n        </p>\r\n        <div className=\"d-inline-block\">\r\n          <Link to={`/`} className=\"btn btn-raised btn-primary btn-sm mr-5\">\r\n            Back to post\r\n          </Link>\r\n\r\n          {isAuthenticated().user &&\r\n            isAuthenticated().user._id === post.postedBy._id && (\r\n              <>\r\n                <Link\r\n                  to={`/post/edit/${post._id}`}\r\n                  className=\"btn btn-raised btn-warning btn-sm mr-5\"\r\n                >\r\n                  Update Post\r\n                </Link>\r\n\r\n                <button\r\n                  onClick={this.deleteConfirmed}\r\n                  className=\"btn btn-raised btn-danger\"\r\n                >\r\n                  Delete Post\r\n                </button>\r\n              </>\r\n            )}\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  render() {\r\n    const { post, redirectToHome, redirectToSignin, comments } = this.state;\r\n\r\n    if (redirectToHome) {\r\n      return <Redirect to={`/`} />;\r\n    } else if (redirectToSignin) {\r\n      return <Redirect to={`/signin`} />;\r\n    }\r\n\r\n    return (\r\n      <div className=\"container\">\r\n        <h2 className=\"display-2 mt-5 mb-5\">{post.title}</h2>\r\n\r\n        {!post ? (\r\n          <div className=\"jumbotron text-center\">\r\n            <h2>Loading...</h2>\r\n          </div>\r\n        ) : (\r\n          this.renderPost(post)\r\n        )}\r\n\r\n        <Comment\r\n          postId={post._id}\r\n          comments={comments.reverse()}\r\n          updateComments={this.updateComments}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default SinglePost;\r\n","import React, {Component} from 'react';\r\nimport {Route, Redirect} from 'react-router-dom';\r\nimport {isAuthenticated} from './index';\r\n\r\nconst PrivateRoute = ({component: Component, ...rest}) => (\r\n    //Props means components passed down to this private route component\r\n    <Route\r\n        {...rest} \r\n        render = {props => \r\n            isAuthenticated() ? (\r\n                <Component {...props} />\r\n            ) : (\r\n                <Redirect \r\n                to={{\r\n                pathname: \"/signin\",\r\n                state:{ from: props.location }\r\n        \r\n        }}\r\n        />\r\n        )\r\n    } \r\n    />\r\n)\r\n\r\nexport default PrivateRoute;","import React, { Component } from \"react\";\r\nimport { resetPassword } from \"../auth\";\r\n \r\nclass ResetPassword extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            newPassword: \"\",\r\n            message: \"\",\r\n            error: \"\"\r\n        };\r\n    }\r\n \r\n    resetPassword = e => {\r\n        e.preventDefault();\r\n        this.setState({ message: \"\", error: \"\" });\r\n \r\n        resetPassword({\r\n            newPassword: this.state.newPassword,\r\n            resetPasswordLink: this.props.match.params.resetPasswordToken\r\n        }).then(data => {\r\n            if (data.error) {\r\n                console.log(data.error);\r\n                this.setState({ error: data.error });\r\n            } else {\r\n                console.log(data.message);\r\n                this.setState({ message: data.message, newPassword: \"\" });\r\n            }\r\n        });\r\n    };\r\n \r\n    render() {\r\n        return (\r\n            <div className=\"container\">\r\n                <h2 className=\"mt-5 mb-5\">Reset your Password</h2>\r\n \r\n                {this.state.message && (\r\n                    <h4 className=\"bg-success\">{this.state.message}</h4>\r\n                )}\r\n                {this.state.error && (\r\n                    <h4 className=\"bg-warning\">{this.state.error}</h4>\r\n                )}\r\n \r\n                <form>\r\n                    <div className=\"form-group mt-5\">\r\n                        <input\r\n                            type=\"password\"\r\n                            className=\"form-control\"\r\n                            placeholder=\"Your new password\"\r\n                            value={this.state.newPassword}\r\n                            name=\"newPassword\"\r\n                            onChange={e =>\r\n                                this.setState({\r\n                                    newPassword: e.target.value,\r\n                                    message: \"\",\r\n                                    error: \"\"\r\n                                })\r\n                            }\r\n                            autoFocus\r\n                        />\r\n                    </div>\r\n                    <button\r\n                        onClick={this.resetPassword}\r\n                        className=\"btn btn-raised btn-primary\"\r\n                    >\r\n                        Reset Password\r\n                    </button>\r\n                </form>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n \r\nexport default ResetPassword;","import React from 'react';\r\nimport ForgotPassword from \"./user/ForgotPassword\";\r\nimport { Route, Switch} from 'react-router-dom';\r\nimport Home from './core/Home';\r\nimport NavBar from './core/Navbar';\r\nimport Signup from './user/Signup';\r\nimport Signin from './user/Signin';\r\nimport Profile from './user/Profile';\r\nimport Users from './user/User';\r\nimport EditProfile from './user/EditProfile';\r\nimport FindPeople from './user/FindPeople';\r\nimport NewPost from './post/NewPost';\r\nimport EditPost from './post/EditPost';\r\nimport SinglePost from './post/SinglePost';\r\nimport PrivateRoute from './auth/PrivateRoute';\r\nimport ResetPassword from \"./user/ResetPassword\";\r\n\r\n\r\nconst MainRouter = () => (\r\n    <div>\r\n        <NavBar />\r\n        <Switch>\r\n            <Route exact path = '/' component={Home} />\r\n            <Route exact path=\"/forgot-password\" component={ForgotPassword} />\r\n            <Route\r\n                    exact\r\n                    path=\"/reset-password/:resetPasswordToken\"\r\n                    component={ResetPassword}\r\n                    />\r\n            <PrivateRoute exact path = '/post/create' component={NewPost} />\r\n            <Route exact path = '/post/:postId' component={SinglePost} />\r\n            <PrivateRoute exact path = '/post/edit/:postId' component={EditPost} />\r\n            <Route exact path = '/users' component={Users} />\r\n            <Route exact path = '/signup' component={Signup} />\r\n            <Route exact path = '/signin' component={Signin} />\r\n            <PrivateRoute exact path = '/user/edit/:userId' component={EditProfile} />\r\n            <PrivateRoute exact path = '/findpeople' component={FindPeople} />\r\n            <PrivateRoute exact path = '/user/:userId' component={Profile} />\r\n        </Switch>\r\n    </div>\r\n);\r\n\r\nexport default MainRouter;","import React from 'react';\r\nimport {BrowserRouter} from 'react-router-dom';\r\nimport MainRouter from './MainRouter';\r\n\r\nconst App = () => (\r\n  <BrowserRouter>\r\n    <MainRouter />\r\n  </BrowserRouter>\r\n);\r\n\r\nexport default App;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n","module.exports = __webpack_public_path__ + \"static/media/avatar.c107aaf6.png\";"],"sourceRoot":""}