(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,t,a){},16:function(e,t,a){e.exports=a.p+"static/media/catbus1.1f7e6756.jpg"},18:function(e,t,a){},38:function(e,t,a){e.exports=a(47)},47:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(27),c=a.n(o),s=a(1),l=a(2),i=a(3),m=a(5),u=a(4),p=a(6),d=function(e){return fetch("".concat("https://back-ghibli.herokuapp.com","/signup"),{method:"POST",headers:{Accept:"appication/json}","Content-Type":"application/json"},body:JSON.stringify(e)}).then(function(e){return e.json()}).catch(function(e){return console.log(e)})},h=function(e){return fetch("".concat("https://back-ghibli.herokuapp.com","/signin"),{method:"POST",headers:{Accept:"appication/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then(function(e){return e.json()}).catch(function(e){return console.log(e)})},f=function(e,t){"undefined"!==typeof window&&(localStorage.setItem("jwt",JSON.stringify(e)),t())},g=function(e){return"undefined"!==typeof window&&localStorage.removeItem("jwt"),e(),fetch("".concat("https://back-ghibli.herokuapp.com","/signout"),{method:"GET"}).then(function(e){return console.log("signout",e),e.json()}).catch(function(e){return console.log(e)})},b=function(){return"undefined"!=typeof window&&(!!localStorage.getItem("jwt")&&JSON.parse(localStorage.getItem("jwt")))},E=function(e){return console.log("email: ",e),fetch("".concat("https://back-ghibli.herokuapp.com","/forgot-password/"),{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({email:e})}).then(function(e){return console.log("forgot password response: ",e),e.json()}).catch(function(e){return console.log(e)})},v=function(e){return fetch("".concat("https://back-ghibli.herokuapp.com","/reset-password/"),{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then(function(e){return console.log("forgot password response: ",e),e.json()}).catch(function(e){return console.log(e)})},N=function(e){return fetch("".concat("https://back-ghibli.herokuapp.com","/social-login/"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then(function(e){return console.log("signin response: ",e),e.json()}).catch(function(e){return console.log(e)})},y=(a(14),a(18),function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={email:"",message:"",error:""},a.forgotPassword=function(e){e.preventDefault(),a.setState({message:"",error:""}),E(a.state.email).then(function(e){e.error?(console.log(e.error),a.setState({error:e.error})):(console.log(e.message),a.setState({message:e.message}))})},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"container "},r.a.createElement("h2",{className:"mt-5 mb-5"},"Password Reset"),this.state.message&&r.a.createElement("h4",{className:"bg-success"},this.state.message),this.state.error&&r.a.createElement("h4",{className:"bg-warning"},this.state.error),r.a.createElement("div",{className:"container h-100 bckg-forgot"},r.a.createElement("div",{className:"d-flex justify-content-center h-100"},r.a.createElement("div",{className:"user_card"},r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement("div",{className:"brand_logo_container"},r.a.createElement("img",{src:"https://cdn.dribbble.com/users/2296468/screenshots/5637499/image.gif",className:"brand_logo",alt:"Logo"}))),r.a.createElement("div",{className:"d-flex justify-content-center form-container"},r.a.createElement("form",null,r.a.createElement("div",{className:"form-group mt-5"},r.a.createElement("input",{type:"email",className:"form-control",placeholder:"Your email address",value:this.state.email,name:"email",onChange:function(t){return e.setState({email:t.target.value,message:"",error:""})},autoFocus:!0})),r.a.createElement("button",{onClick:this.forgotPassword,className:"btn btn-raised btn-primary"},"Send Password Rest Link")))))))}}]),t}(n.Component)),k=a(13),w=function(e,t,a){return fetch("".concat("https://back-ghibli.herokuapp.com","/post/").concat(e),{method:"POST",headers:{Accept:"application/json",Authorization:"Bearer ".concat(t)},body:a}).then(function(e){return e.json()}).catch(function(e){return console.log(e)})},j=function(e){return fetch("".concat("https://back-ghibli.herokuapp.com","/post/").concat(e),{method:"GET"}).then(function(e){return e.json()}).catch(function(e){return console.log(e)})},x=function(e,t){return fetch("".concat("https://back-ghibli.herokuapp.com","/posts/").concat(e),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)}}).then(function(e){return e.json()}).catch(function(e){return console.log(e)})},S=function(e,t){return fetch("".concat("https://back-ghibli.herokuapp.com","/post/").concat(e),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)}}).then(function(e){return e.json()}).catch(function(e){return console.log(e)})},C=function(e,t,a){return fetch("".concat("https://back-ghibli.herokuapp.com","/post/").concat(e),{method:"PUT",headers:{Accept:"application/json",Authorization:"Bearer ".concat(t)},body:a}).then(function(e){return e.json()}).catch(function(e){return console.log(e)})},O=function(e,t,a){return fetch("".concat("https://back-ghibli.herokuapp.com","/post/like"),{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify({userId:e,postId:a})}).then(function(e){return e.json()}).catch(function(e){return console.log(e)})},P=function(e,t,a){return fetch("".concat("https://back-ghibli.herokuapp.com","/post/unlike"),{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify({userId:e,postId:a})}).then(function(e){return e.json()}).catch(function(e){return console.log(e)})},T=function(e,t,a,n){return fetch("".concat("https://back-ghibli.herokuapp.com","/post/comment"),{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify({userId:e,postId:a,comment:n})}).then(function(e){return e.json()}).catch(function(e){return console.log(e)})},_=function(e,t,a,n){return fetch("".concat("https://back-ghibli.herokuapp.com","/post/uncomment"),{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify({userId:e,postId:a,comment:n})}).then(function(e){return e.json()}).catch(function(e){return console.log(e)})},A=a(16),D=a.n(A),z=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(m.a)(this,Object(u.a)(t).call(this))).renderPosts=function(e){return r.a.createElement("div",{className:"row"},e.map(function(e,t){var a=e.postedBy?"/user/".concat(e.postedBy._id):"",n=e.postedBy?e.postedBy.name:" Unknown";return r.a.createElement("div",{className:"card col-md-4",key:t},r.a.createElement("div",{className:"card-body"},r.a.createElement("img",{src:"".concat("https://back-ghibli.herokuapp.com","/post/photo/").concat(e._id),alt:e.title,onError:function(e){return e.target.src="".concat(D.a)},className:"img-thumbnail mb-3",style:{height:"200px",width:"auto"}}),r.a.createElement("h5",{className:"card-title"},e.title),r.a.createElement("p",{className:"card-text"},e.body.substring(0,80)),r.a.createElement("br",null),r.a.createElement("p",{className:"font-italic mark"},"Posted by "," ",r.a.createElement(s.b,{to:"".concat(a)},n," "),"on ",new Date(e.created).toDateString()),r.a.createElement(s.b,{to:"/post/".concat(e._id),className:"btn btn-raised btn-primary btn-sm"},"Read more")))}))},e.state={posts:[]},e}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("".concat("https://back-ghibli.herokuapp.com","/posts"),{method:"GET"}).then(function(e){return e.json()}).catch(function(e){return console.log(e)}).then(function(t){t.error?console.log(t.error):e.setState({posts:t})})}},{key:"render",value:function(){var e=this.state.posts;return r.a.createElement("div",{className:"container"},r.a.createElement("h2",{className:"mt-5 mb-5"},e.length?"Recent Posts":r.a.createElement("h2",null,r.a.createElement("i",{class:"fas fa-spinner fa-pulse fa-2x"}))),this.renderPosts(e))}}]),t}(n.Component),I=function(){return r.a.createElement("div",{className:"bckg-home"},r.a.createElement("div",{className:"container"},r.a.createElement(z,null)))},B=a(30),F=a(31);function U(){var e=Object(B.a)(["\nwidth: 100%;\ndisplay: flex;\n    flex-wrap: wrap;\n    padding-left: 0;\n    margin-bottom: 0;\n    list-style: none;\nbackground: #009688!important;\n\n.logo a {\n  padding-top: 33px;\n  display: flex;\n  flex-direction: column;\n  clear: both;\n  padding-bottom: 30px;\n  text-decoration: none;\n}\n  p {\n    width: 500px;\n    display: block;\n  }\n  em {\n    font-size: 1.5rem;\n    float: left;\n    display: block;\n    img {\n      display: inline-block;\n      margin-top: 5px;\n      width: 15px;\n      float: left;\n    }\n    .letterhead {\n      float: left;\n      margin-top: -30px;\n      padding-left: 10px;\n    }\n  }\n}\n.gray {\n  color: #ccc;\n}\na {\n  color: #fff;\n  transition: all 0.6s;\n  color: #fff;\n  font-size: 1em;\n}\na:hover {\n  opacity: 1;\n}\n.fa-bars {\n  display: none;\n  color: #222;\n  font-size: 2rem;\n}\nnav {\n  ul {\n    display: flex;\n    justify-content: space-between;\n  }\n  nav-link {\n    margin: 0 15px;\n    justify-content: space-between;\n    font-size: 1em;\n  }\n  a {\n    font-size: 1em;\n    text-decoration: none;\n    .active {\n      color: tomato;\n    }\n  }\n  a.active {\n    color: #222;\n  }\n}\n\n@media only screen and (max-width: 800px) {\n  padding: 0px;\n  .logo {\n    padding-left: 15px;\n    padding-top: 0px !important;\n  }\n}\n@media only screen and (max-width: 600px) {\n  height: auto;\n  min-height: 50px;\n  display: block;\n  position: relative;\n  .logo {\n    width: 100%;\n    display: block;\n    padding-top: 20px;\n    margin: 0px;\n    margin-left: -5px;\n    \n  }\n  .fa-bars {\n    display: inline-block;\n    position: absolute;\n    top: 10px;\n    right: 10px;\n    cursor: pointer;\n  }\n  ul.collapsed {\n    width: 100%;\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n    flex-wrap: wrap;\n\n    overflow: hidden;\n    max-height: 0;\n    -moz-transition-duration: 0.4s;\n    -webkit-transition-duration: 0.4s;\n    -o-transition-duration: 0.4s;\n    transition-duration: 0.4s;\n    -moz-transition-timing-function: cubic-bezier(0, 1, 0.5, 1);\n    -webkit-transition-timing-function: cubic-bezier(0, 1, 0.5, 1);\n    -o-transition-timing-function: cubic-bezier(0, 1, 0.5, 1);\n    transition-timing-function: cubic-bezier(0, 1, 0.5, 1);\n\n    &.is-expanded {\n      overflow: hidden;\n      max-height: 500px; /* approximate max height */\n      -moz-transition-duration: 0.4s;\n      -webkit-transition-duration: 0.4s;\n      -o-transition-duration: 0.4s;\n      transition-duration: 0.4s;\n      -moz-transition-timing-function: ease-in;\n      -webkit-transition-timing-function: ease-in;\n      -o-transition-timing-function: ease-in;\n      transition-timing-function: ease-in;\n    }\n    li {\n      padding: 15px 10px;\n      margin: 0px 0px;\n      width: 100%;\n    }\n    \n  }\n}\n"]);return U=function(){return e},e}var J=function(e,t){return e.location.pathname===t?{color:"#ff9900"}:{color:"#ffffff"}},R=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).state={isExpanded:!1},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"handleToggle",value:function(e){e.preventDefault(),this.setState({isExpanded:!this.state.isExpanded})}},{key:"render",value:function(){var e=this,t=this.state.isExpanded,a=this.props.history;return r.a.createElement(M,null,r.a.createElement("div",{className:"logo"},r.a.createElement(s.b,{to:"/"},r.a.createElement("em",null,r.a.createElement("div",{className:"letterhead"},r.a.createElement("span",{className:"name"},"Glibli "),r.a.createElement("span",{className:"gray"},"Community"))))),r.a.createElement("nav",{className:"nav"},r.a.createElement("i",{className:"fa fa-bars","aria-hidden":"true",onClick:function(t){return e.handleToggle(t)}}),r.a.createElement("ul",{className:"collapsed ".concat(t?"is-expanded":"")},r.a.createElement(s.b,{className:"nav-link",style:J(a,"/"),to:"/"},"Home"),r.a.createElement(s.b,{className:"nav-link",style:J(a,"/users"),to:"/users"},"Users"),r.a.createElement(s.b,{to:"/post/create",style:J(a,"/post/create"),className:"nav-link"},"Create Post"),!b()&&r.a.createElement(r.a.Fragment,null,r.a.createElement(s.b,{className:"nav-link",style:J(a,"/signin"),to:"/signin"},"Sign In"),r.a.createElement(s.b,{className:"nav-link",style:J(a,"/signup"),to:"/signup"},"Sign up")),b()&&r.a.createElement(r.a.Fragment,null,r.a.createElement(s.b,{to:"/findpeople",style:J(a,"/findpeople"),className:"nav-link"},"Find people"),r.a.createElement(s.b,{to:"/user/".concat(b().user._id),style:J(a,"/user/".concat(b().user._id)),className:"nav-link"},"".concat(b().user.name,"'s profile")),r.a.createElement("span",{className:"nav-link",style:(J(a,"/signup"),{cursor:"pointer",color:"#fff"}),onClick:function(){return g(function(){return a.push("/")})}},"Sign Out")))))}}]),t}(n.Component),L=Object(k.g)(R),M=F.a.header(U()),V=a(9),G=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(m.a)(this,Object(u.a)(t).call(this))).handleChange=function(t){return function(a){e.setState({error:""}),e.setState(Object(V.a)({},t,a.target.value))}},e.clickSubmit=function(t){t.preventDefault();var a=e.state,n={name:a.name,email:a.email,password:a.password};console.log(n),d(n).then(function(t){t.error?e.setState({error:t.error}):e.setState({error:"",name:"",email:"",password:"",open:!0})})},e.signupForm=function(t,a,n){return r.a.createElement("div",{className:"container h-100 bckg-signup"},r.a.createElement("div",{className:"d-flex justify-content-center h-100"},r.a.createElement("div",{className:"user_card"},r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement("div",{className:"brand_logo_container"},r.a.createElement("img",{src:"https://cdn.dribbble.com/users/2296468/screenshots/5637499/image.gif",className:"brand_logo",alt:"Logo"}))),r.a.createElement("div",{className:"d-flex justify-content-center form-container"},r.a.createElement("form",null,r.a.createElement("div",{className:"input-group mb-3"},r.a.createElement("div",{className:"input-group-append"},r.a.createElement("span",{className:"input-group-text"},r.a.createElement("i",{className:"fas fa-user"})," ")),r.a.createElement("input",{onChange:e.handleChange("name"),type:"text",className:"form-control input_user",value:t,placeholder:"Name"})),r.a.createElement("div",{className:"input-group mb-2"},r.a.createElement("div",{className:"input-group-append"},r.a.createElement("span",{className:"input-group-text"},r.a.createElement("i",{className:"fas fa-envelope"})," ")),r.a.createElement("input",{onChange:e.handleChange("email"),type:"email",className:"form-control input_user",value:a,placeholder:"email"})),r.a.createElement("div",{className:"input-group mb-1"},r.a.createElement("div",{className:"input-group-append"},r.a.createElement("span",{className:"input-group-text"},r.a.createElement("i",{className:"fas fa-key"})," ")),r.a.createElement("input",{onChange:e.handleChange("password"),type:"password",className:"form-control input_pass",value:n,placeholder:"password"})),r.a.createElement("div",{className:"d-flex justify-content-center mt-3 login_container"},r.a.createElement("button",{onClick:e.clickSubmit,className:"btn login_btn"},"Submit")))))))},e.state={name:"",email:"",password:"",error:"",open:!1},e}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state,t=e.name,a=e.email,n=e.password,o=e.error,c=e.open;return r.a.createElement("div",{className:"container"},r.a.createElement("h2",{className:"mt-5 mb-5"},"Signup"),r.a.createElement("div",{className:"alert alert-danger",style:{display:o?"":"none"}},o),r.a.createElement("div",{className:"alert alert-info",style:{display:c?"":"none"}},"New account is successfully created. Please"," ",r.a.createElement(s.b,{to:"/signin"},"Sign In")),this.signupForm(t,a,n))}}]),t}(n.Component),q=a(34),H=a.n(q),$=(n.Component,function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(m.a)(this,Object(u.a)(t).call(this))).handleChange=function(t){return function(a){e.setState({error:""}),e.setState(Object(V.a)({},t,a.target.value))}},e.clickSubmit=function(t){t.preventDefault(),e.setState({loading:!0});var a=e.state,n={email:a.email,password:a.password};console.log(n),h(n).then(function(t){t.error?e.setState({error:t.error,loading:!1}):f(t,function(){e.setState({redirectToReferer:!0})})})},e.signinForm=function(t,a){return r.a.createElement("div",{className:"container h-100 bckg-signin"},r.a.createElement("div",{className:"d-flex justify-content-center h-100"},r.a.createElement("div",{className:"user_card"},r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement("div",{className:"brand_logo_container"},r.a.createElement("img",{src:"https://cdn.dribbble.com/users/2296468/screenshots/5637499/image.gif",className:"brand_logo",alt:"Logo"}))),r.a.createElement("div",{className:"d-flex justify-content-center form-container"},r.a.createElement("form",null,r.a.createElement("div",{className:"input-group mb-3"},r.a.createElement("div",{className:"input-group-append"},r.a.createElement("span",{className:"input-group-text"},r.a.createElement("i",{className:"fas fa-envelope"})," ")),r.a.createElement("input",{onChange:e.handleChange("email"),type:"email",className:"form-control input_user",value:t,placeholder:" email"})),r.a.createElement("div",{className:"input-group mb-2"},r.a.createElement("div",{className:"input-group-append"},r.a.createElement("span",{className:"input-group-text"},r.a.createElement("i",{className:"fas fa-key"})," ")),r.a.createElement("input",{onChange:e.handleChange("password"),type:"password",className:"form-control input_pass",value:a,placeholder:" password"})))),r.a.createElement("div",{className:"d-flex justify-content-center mt-3 login_container"},r.a.createElement("button",{onClick:e.clickSubmit,type:"button",className:"btn login_btn"},"Submit")))))},e.state={email:"",password:"",error:"",redirectToReferer:!1,loading:!1},e}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state,t=e.email,a=e.password,n=e.error,o=e.redirectToReferer,c=e.loading;return o?r.a.createElement(k.a,{to:"/"}):r.a.createElement("div",{className:"container"},r.a.createElement("h2",{className:"mt-5 mb-5"},"Sign In"),r.a.createElement("div",{className:"alert alert-danger",style:{display:n?"":"none"}},n),c?r.a.createElement("div",{className:"jumbotron text-center"},r.a.createElement("h2",null,r.a.createElement("i",{class:"fas fa-spinner fa-pulse fa-2x"}))):"",this.signinForm(t,a),r.a.createElement("p",null,r.a.createElement(s.b,{to:"/forgot-password",className:"d-flex justify-content-center links"}," ","Forgot Password")))}}]),t}(n.Component)),Y=function(e,t){return fetch("".concat("https://back-ghibli.herokuapp.com","/user/").concat(e),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)}}).then(function(e){return e.json()}).catch(function(e){return console.log(e)})},W=function(e,t){return fetch("".concat("https://back-ghibli.herokuapp.com","/user/").concat(e),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)}}).then(function(e){return e.json()}).catch(function(e){return console.log(e)})},K=function(e,t,a){return fetch("".concat("https://back-ghibli.herokuapp.com","/user/").concat(e),{method:"PUT",headers:{Accept:"application/json",Authorization:"Bearer ".concat(t)},body:a}).then(function(e){return e.json()}).catch(function(e){return console.log(e)})},Q=function(e,t){if("undefined"!==typeof window&&localStorage.getItem("jwt")){var a=JSON.parse(localStorage.getItem("jwt"));a.user=e,localStorage.setItem("jwt",JSON.stringify(a)),t()}},X=function(e,t,a){return fetch("".concat("https://back-ghibli.herokuapp.com","/user/follow"),{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify({userId:e,followId:a})}).then(function(e){return e.json()}).catch(function(e){return console.log(e)})},Z=function(e,t,a){return fetch("".concat("https://back-ghibli.herokuapp.com","/user/unfollow"),{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify({userId:e,unfollowId:a})}).then(function(e){return e.json()}).catch(function(e){return console.log(e)})},ee=a(8),te=a.n(ee),ae=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={redirect:!1},a.deleteAccount=function(){var e=b().token,t=a.props.userId;W(t,e).then(function(e){e.error?console.log(e.error):(g(function(){return console.log("User is deleted")}),a.setState({redirect:!0}))})},a.deleteConfirmed=function(){window.confirm("Are you sure you want to delete your account?")&&a.deleteAccount()},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return this.state.redirect?r.a.createElement(k.a,{to:"/"}):r.a.createElement("button",{onClick:this.deleteConfirmed,className:"btn btn-raised btn-danger"},"Delete Profile")}}]),t}(n.Component),ne=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).followClick=function(){a.props.onButtonClick(X)},a.unfollowClick=function(){a.props.onButtonClick(Z)},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"d-inline-block"},this.props.following?r.a.createElement("button",{onClick:this.unfollowClick,className:"btn btn-warning btn-raised"},"UnFollow"):r.a.createElement("button",{onClick:this.followClick,className:"btn btn-success btn-raised mr-5"},"Follow"))}}]),t}(n.Component),re=function(e){function t(){return Object(l.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.following,a=e.followers,n=e.posts;return r.a.createElement("div",null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-4"},r.a.createElement("h3",{className:"text-info"},"Followers"),r.a.createElement("hr",null),a.map(function(e,t){return r.a.createElement("div",{key:t},r.a.createElement("div",null,r.a.createElement(s.b,{to:"/user/$(person._id)"},r.a.createElement("img",{style:{borderRadius:"50%",border:"1px solid black"},className:"float-left mr-2",height:"30px",width:"30px",onError:function(e){return e.target.src="".concat(te.a)},src:"".concat("https://back-ghibli.herokuapp.com","/user/photo/").concat(e._id),alt:e.name}),r.a.createElement("div",null,r.a.createElement("p",{className:"lead"},e.name)))))})),r.a.createElement("div",{className:"col-md-4"},r.a.createElement("h3",{className:"text-info"},"Following"),r.a.createElement("hr",null),t.map(function(e,t){return r.a.createElement("div",{key:t},r.a.createElement("div",null,r.a.createElement(s.b,{to:"/user/$(person._id)"},r.a.createElement("img",{style:{borderRadius:"50%",border:"1px solid black"},className:"float-left mr-2",height:"30px",width:"30px",onError:function(e){return e.target.src="".concat(te.a)},src:"".concat("https://back-ghibli.herokuapp.com","/user/photo/").concat(e._id),alt:e.name}),r.a.createElement("div",null,r.a.createElement("p",{className:"lead"},e.name)))))})),r.a.createElement("div",{className:"col-md-4"},r.a.createElement("h3",{className:"text-info"},"Posts"),r.a.createElement("hr",null),n.map(function(e,t){return r.a.createElement("div",{key:t},r.a.createElement("div",null,r.a.createElement(s.b,{to:"/post/".concat(e._id)},r.a.createElement("div",null,r.a.createElement("p",{className:"lead"},e.title)))))}))))}}]),t}(n.Component),oe=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(m.a)(this,Object(u.a)(t).call(this))).checkFollow=function(e){var t=b();return e.followers.find(function(e){return e._id===t.user._id})},e.clickFollowButton=function(t){t(b().user._id,b().token,e.state.user._id).then(function(t){t.error?e.setState({error:t.error}):e.setState({user:t,following:!e.state.following})})},e.init=function(t){var a=b().token;Y(t,a).then(function(t){if(t.error)e.setState({redirectToSignin:!0});else{var a=e.checkFollow(t);e.setState({user:t,following:a}),e.loadPosts(t._id)}})},e.loadPosts=function(t){var a=b().token;x(t,a).then(function(t){t.error?console.log(t.error):e.setState({posts:t})})},e.state={user:{following:[],followers:[]},redirectToSignin:!1,following:!1,error:"",posts:[]},e}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){console.log("".concat("https://back-ghibli.herokuapp.com"));var e=this.props.match.params.userId;this.init(e)}},{key:"componentWillReceiveProps",value:function(e){var t=e.match.params.userId;this.init(t)}},{key:"render",value:function(){var e=this.state,t=e.redirectToSignin,a=e.user,n=e.posts;if(t)return r.a.createElement(k.a,{to:"/signin"});var o=a._id?"".concat("https://back-ghibli.herokuapp.com","/user/photo/").concat(a._id,"?").concat((new Date).getTime()):te.a;return r.a.createElement("div",{className:"bckg-profile"},r.a.createElement("div",{className:"container bckg-cover "},r.a.createElement("h2",{className:"mt-5 mb-5"},"Profile"),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-4"},r.a.createElement("img",{style:{height:"200px",width:"auto"},className:"img-thumbnail",src:o,onError:function(e){return e.target.src="".concat(te.a)},alt:a.name})),r.a.createElement("div",{className:"col-md-8"},r.a.createElement("div",{className:"lead mt-2"},r.a.createElement("p",null,r.a.createElement("i",{class:"far fa-user"})," ",a.name),r.a.createElement("p",null,"Email: ",a.email),r.a.createElement("p",null,"Joined ".concat(new Date(a.created).toDateString()))),b().user&&b().user._id===a._id?r.a.createElement("div",{className:"d-inline-block"},r.a.createElement(s.b,{className:"btn btn-raised btn-info mr-5",to:"/post/create"},"Create Post"),r.a.createElement(s.b,{className:"btn btn-raised btn-success mr-5",to:"/user/edit/".concat(a._id)},"Edit Profile"),r.a.createElement(ae,{userId:a._id})):r.a.createElement(ne,{following:this.state.following,onButtonClick:this.clickFollowButton}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col md-12 mt-5 mb-5"},r.a.createElement("hr",null),r.a.createElement("p",{className:"lead"},a.about),r.a.createElement("hr",null),r.a.createElement(re,{followers:a.followers,following:a.following,posts:n})))))}}]),t}(n.Component),ce=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(m.a)(this,Object(u.a)(t).call(this))).renderUsers=function(e){return r.a.createElement("div",{className:"row "},e.map(function(e,t){return r.a.createElement("div",{className:"card col-md-4",key:t},r.a.createElement("img",{style:{height:"200px",width:"auto"},className:"img-thumbnail",src:"".concat("https://back-ghibli.herokuapp.com","/user/photo/").concat(e._id),onError:function(e){return e.target.src="".concat(te.a)},alt:e.name}),r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},e.name),r.a.createElement("p",{className:"card-text"},e.email),r.a.createElement(s.b,{to:"/user/".concat(e._id),className:"btn btn-raised btn-primary btn-sm"},"View Profile")))}))},e.state={users:[]},e}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("".concat("https://back-ghibli.herokuapp.com","/users"),{method:"GET"}).then(function(e){return e.json()}).catch(function(e){return console.log(e)}).then(function(t){t.error?console.log(t.error):e.setState({users:t})})}},{key:"render",value:function(){var e=this.state.users;return r.a.createElement("div",{className:"container bckg-user"},r.a.createElement("h2",{className:"mt-5 mb-5"},"Users"),this.renderUsers(e))}}]),t}(n.Component),se=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(m.a)(this,Object(u.a)(t).call(this))).init=function(t){var a=b().token;Y(t,a).then(function(t){t.error?e.setState({redirectToProfile:!0}):e.setState({id:t._id,name:t.name,email:t.email,error:"",about:t.about})})},e.isValid=function(){var t=e.state,a=t.name,n=t.email,r=t.password;return t.fileSize>2e5?(e.setState({error:"File size should be less than 200kb"}),!1):0===a.length?(e.setState({error:"Name is required",loading:!1}),!1):/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(n)?!(r.length>=1&&r.length<=5)||(e.setState({error:"Password must be at least 6 characters long",loading:!1}),!1):(e.setState({error:"A valid Email is required",loading:!1}),!1)},e.handleChange=function(t){return function(a){var n;e.setState({error:""});var r="photo"===t?a.target.files[0]:a.target.value,o="photo"===t?a.target.files[0].size:0;e.userData.set(t,r),e.setState((n={},Object(V.a)(n,t,r),Object(V.a)(n,"fileSize",o),n))}},e.clickSubmit=function(t){if(t.preventDefault(),e.setState({loading:!0}),e.isValid()){var a=e.props.match.params.userId,n=b().token;K(a,n,e.userData).then(function(t){t.error?e.setState({error:t.error}):Q(t,function(){e.setState({redirectToProfile:!0})})})}},e.signupForm=function(t,a,n,o){return r.a.createElement("form",null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-muted"},"Profile Photo "),r.a.createElement("input",{onChange:e.handleChange("photo"),type:"file",accept:"image/*",className:"form-control"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-muted"},"Name "),r.a.createElement("input",{onChange:e.handleChange("name"),type:"text",className:"form-control",value:t})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-muted"},"Email"),r.a.createElement("input",{onChange:e.handleChange("email"),type:"email",className:"form-control",value:a})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-muted"},"About "),r.a.createElement("textarea",{onChange:e.handleChange("about"),type:"text",className:"form-control",value:o})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-muted"},"Password"),r.a.createElement("input",{onChange:e.handleChange("password"),type:"password",className:"form-control",value:n})),r.a.createElement("button",{onClick:e.clickSubmit,className:"btn btn-raised btn-primary"},"Update"))},e.state={id:"",name:"",email:"",password:"",redirectToProfile:!1,error:"",fileSize:0,loading:!1,about:""},e}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.userData=new FormData;var e=this.props.match.params.userId;this.init(e)}},{key:"render",value:function(){var e=this.state,t=e.id,a=e.name,n=e.email,o=e.password,c=e.redirectToProfile,s=e.error,l=e.loading,i=e.about;if(c)return r.a.createElement(k.a,{to:"/user/".concat(t)});var m=t?"".concat("https://back-ghibli.herokuapp.com","/user/photo/").concat(t,"?").concat((new Date).getTime()):te.a;return r.a.createElement("div",{className:"container"},r.a.createElement("h2",{className:"mt-5 mb-5"},"Edit Profile"),r.a.createElement("div",{className:"alert alert-danger",style:{display:s?"":"none"}},s),l?r.a.createElement("div",{className:" text-center"},r.a.createElement("h2",null,r.a.createElement("i",{class:"fas fa-spinner fa-pulse fa-2x"}))):"",r.a.createElement("img",{style:{height:"200px",width:"auto"},className:"img-thumbnail",src:m,onError:function(e){return e.target.src="".concat(te.a)},alt:a}),this.signupForm(a,n,o,i))}}]),t}(n.Component),le=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(m.a)(this,Object(u.a)(t).call(this))).clickFollow=function(t,a){var n=b().user._id,r=b().token;X(n,r,t._id).then(function(n){if(n.error)e.setState({error:n.error});else{var r=e.state.users;r.splice(a,1),e.setState({users:r,open:!0,followMessage:"Following ".concat(t.name)})}})},e.renderUsers=function(t){return r.a.createElement("div",{className:"row"},t.map(function(t,a){return r.a.createElement("div",{className:"card col-md-4",key:a},r.a.createElement("img",{style:{height:"200px",width:"auto"},className:"img-thumbnail",src:"".concat("https://back-ghibli.herokuapp.com","/user/photo/").concat(t._id),onError:function(e){return e.target.src="".concat(te.a)},alt:t.name}),r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},t.name),r.a.createElement("p",{className:"card-text"},t.email),r.a.createElement(s.b,{to:"/user/".concat(t._id),className:"btn btn-raised btn-primary btn-sm"},"View Profile"),r.a.createElement("button",{onClick:function(){return e.clickFollow(t,a)},className:"btn btn-raised btn-info float-right btn-sr"},"Follow")))}))},e.state={users:[],error:"",open:!1},e}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;(function(e,t){return fetch("".concat("https://back-ghibli.herokuapp.com","/user/findPeople/").concat(e),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)}}).then(function(e){return e.json()}).catch(function(e){return console.log(e)})})(b().user._id,b().token).then(function(t){t.error?console.log(t.error):e.setState({users:t})})}},{key:"render",value:function(){var e=this.state,t=e.users,a=e.open,n=e.followMessage;return r.a.createElement("div",{className:"container bckg-find"},r.a.createElement("h2",{className:"mt-5 mb-5"},"Find People"),a&&r.a.createElement("div",{className:"alert alert-success"},a&&r.a.createElement("p",null,n)),this.renderUsers(t))}}]),t}(n.Component),ie=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(m.a)(this,Object(u.a)(t).call(this))).isValid=function(){var t=e.state,a=t.title,n=t.body;return t.fileSize>15e4?(e.setState({error:"File size should be less than 150kb"}),!1):0!==a.length&&0!==n.length||(e.setState({error:"All fields are required",loading:!1}),!1)},e.handleChange=function(t){return function(a){var n;e.setState({error:""});var r="photo"===t?a.target.files[0]:a.target.value,o="photo"===t?a.target.files[0].size:0;e.postData.set(t,r),e.setState((n={},Object(V.a)(n,t,r),Object(V.a)(n,"fileSize",o),n))}},e.clickSubmit=function(t){if(t.preventDefault(),e.setState({loading:!0}),e.isValid()){var a=b().user._id,n=b().token;w(a,n,e.postData).then(function(t){t.error?e.setState({error:t.error}):e.setState({loading:!1,title:"",body:"",photo:"",redirectToProfile:!0})})}},e.newPostForm=function(t,a){return r.a.createElement("form",null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-muted"},"Profile Photo "),r.a.createElement("input",{onChange:e.handleChange("photo"),type:"file",accept:"image/*",className:"form-control"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-muted"},"Title "),r.a.createElement("input",{onChange:e.handleChange("title"),type:"text",className:"form-control",value:t})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-muted"},"Body "),r.a.createElement("textarea",{onChange:e.handleChange("body"),type:"text",className:"form-control",value:a})),r.a.createElement("button",{onClick:e.clickSubmit,className:"btn btn-raised btn-primary"},"Create Post"))},e.state={title:"",body:"",photo:"",error:"",user:{},fileSize:0,loading:!1,redirectToProfile:!1},e}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.postData=new FormData,this.setState({user:b().user})}},{key:"render",value:function(){var e=this.state,t=e.title,a=e.body,n=e.user,o=e.error,c=e.loading;return e.redirectToProfile?r.a.createElement(k.a,{to:"/user/".concat(n._id)}):r.a.createElement("div",{className:"container bckg-post"},r.a.createElement("h2",{className:"mt-5 mb-5"},"Create a new post"),r.a.createElement("div",{className:"alert alert-danger",style:{display:o?"":"none"}},o),c?r.a.createElement("div",{className:"jumbotron text-center"},r.a.createElement("h2",null,r.a.createElement("i",{class:"fas fa-spinner fa-pulse fa-2x"}))):"",this.newPostForm(t,a))}}]),t}(n.Component),me=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(m.a)(this,Object(u.a)(t).call(this))).init=function(t){j(t).then(function(t){t.error?e.setState({redirectToProfile:!0}):e.setState({id:t._id,title:t.title,body:t.body,error:"",fileSize:0,loading:!1})})},e.isValid=function(){var t=e.state,a=t.title,n=t.body;return t.fileSize>15e4?(e.setState({error:"File size should be less than 150kb"}),!1):0!==a.length&&0!==n.length||(e.setState({error:"All fields are required",loading:!1}),!1)},e.handleChange=function(t){return function(a){var n;e.setState({error:""});var r="photo"===t?a.target.files[0]:a.target.value,o="photo"===t?a.target.files[0].size:0;e.postData.set(t,r),e.setState((n={},Object(V.a)(n,t,r),Object(V.a)(n,"fileSize",o),n))}},e.clickSubmit=function(t){if(t.preventDefault(),e.setState({loading:!0}),e.isValid()){var a=e.state.id,n=b().token;C(a,n,e.postData).then(function(t){t.error?e.setState({error:t.error}):e.setState({loading:!1,title:"",body:"",photo:"",redirectToProfile:!0})})}},e.editPostForm=function(t,a){return r.a.createElement("form",null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-muted"},"Post Photo "),r.a.createElement("input",{onChange:e.handleChange("photo"),type:"file",accept:"image/*",className:"form-control"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-muted"},"Title "),r.a.createElement("input",{onChange:e.handleChange("title"),type:"text",className:"form-control",value:t})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-muted"},"Body "),r.a.createElement("textarea",{onChange:e.handleChange("body"),type:"text",className:"form-control",value:a})),r.a.createElement("button",{onClick:e.clickSubmit,className:"btn btn-raised btn-primary"},"Update Post"))},e.state={id:"",title:"",body:"",redirectToProfile:!1,error:""},e}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.postData=new FormData;var e=this.props.match.params.postId;this.init(e)}},{key:"render",value:function(){var e=this.state,t=e.id,a=e.title,n=e.body,o=e.redirectToProfile,c=e.error,s=e.loading;return o?r.a.createElement(k.a,{to:"/user/".concat(b().user._id)}):r.a.createElement("div",{className:"container"},r.a.createElement("h2",{className:"mt-5 mb-5"},a),r.a.createElement("div",{className:"alert alert-danger",style:{display:c?"":"none"}},c),s?r.a.createElement("div",{className:"text-center"},r.a.createElement("h2",null,r.a.createElement("i",{class:"fas fa-spinner fa-pulse fa-2x"}))):"",r.a.createElement("img",{style:{height:"200px",width:"auto"},className:"img-thumbnail",src:"".concat("https://back-ghibli.herokuapp.com","/post/photo/").concat(t,"?").concat((new Date).getTime()),onError:function(e){return e.target.src="".concat(D.a)},alt:a}),this.editPostForm(a,n))}}]),t}(n.Component),ue=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={text:"",error:""},a.handleChange=function(e){a.setState({error:""}),a.setState({text:e.target.value})},a.isValid=function(){var e=a.state.text;return!(!e.length>0||e.length>250)||(a.setState({error:"Comment should not be empty and less than 150 characters long"}),!1)},a.addComment=function(e){if(e.preventDefault(),!b())return a.setState({error:"Please signin to leave a comment"}),!1;if(a.isValid()){var t=b().user._id,n=b().token,r=a.props.postId;T(t,n,r,{text:a.state.text}).then(function(e){e.error?console.log(e.error):(a.setState({text:""}),a.props.updateComments(e.comments))})}},a.deleteComment=function(e){var t=b().user._id,n=b().token,r=a.props.postId;_(t,n,r,e).then(function(e){e.error?console.log(e.error):a.props.updateComments(e.comments)})},a.deleteConfirmed=function(e){window.confirm("Are you sure you want to delete your comment?")&&a.deleteComment(e)},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props.comments,a=this.state.error;return r.a.createElement("div",null,r.a.createElement("h2",{className:"mt-5 mb-5"},"Leave a comment"),r.a.createElement("form",{onSubmit:this.addComment},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",onChange:this.handleChange,value:this.state.text,className:"form-control",placeholder:"Leave a comment..."}),r.a.createElement("button",{className:"btn btn-raised btn-success mt-2"},"Post"))),r.a.createElement("div",{className:"alert alert-danger",style:{display:a?"":"none"}},a),r.a.createElement("div",{className:"col-md-12"},r.a.createElement("h3",{className:"text-primary"},t.length," Comments"),r.a.createElement("hr",null),t.map(function(t,a){return r.a.createElement("div",{key:a},r.a.createElement("div",null,r.a.createElement(s.b,{to:"/user/$(comment.postedBy._id)"},r.a.createElement("img",{style:{borderRadius:"50%",border:"1px solid black"},className:"float-left mr-2",height:"30px",width:"30px",onError:function(e){return e.target.src="".concat(te.a)},src:"".concat("https://back-ghibli.herokuapp.com","/user/photo/").concat(t.postedBy._id),alt:t.postedBy.name})),r.a.createElement("div",null,r.a.createElement("p",{className:"lead"},t.text),r.a.createElement("p",{className:"font-italic mark"},"Posted by"," ",r.a.createElement(s.b,{to:"/user/".concat(t.postedBy._id)},t.postedBy.name," "),"on ",new Date(t.created).toDateString(),r.a.createElement("span",null,b().user&&b().user._id===t.postedBy._id&&r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{onClick:function(){return e.deleteConfirmed(t)},className:"text-danger float-right mr-1"},"Remove")))))))})))}}]),t}(n.Component),pe=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={post:"",redirectToHome:!1,redirectToSignin:!1,like:!1,likes:0,comments:[]},a.checkLike=function(e){var t=b()&&b().user._id;return-1!==e.indexOf(t)},a.componentDidMount=function(){var e=a.props.match.params.postId;j(e).then(function(e){e.error?console.log(e.error):a.setState({post:e,likes:e.likes.length,like:a.checkLike(e.likes),comments:e.comments})})},a.updateComments=function(e){a.setState({comments:e})},a.likeToggle=function(){if(!b())return a.setState({redirectToSignin:!0}),!1;var e=a.state.like?P:O,t=b().user._id,n=a.state.post._id;e(t,b().token,n).then(function(e){e.error?console.log(e.error):a.setState({like:!a.state.like,likes:e.likes.length})})},a.deletePost=function(){var e=a.props.match.params.postId,t=b().token;S(e,t).then(function(e){e.error?console.log(e.error):a.setState({redirectToHome:!0})})},a.deleteConfirmed=function(){window.confirm("Are you sure you want to delete?")&&a.deletePost()},a.renderPost=function(e){var t=e.postedBy?"/user/".concat(e.postedBy._id):"",n=e.postedBy?e.postedBy.name:" Unknown",o=a.state,c=o.like,l=o.likes;return r.a.createElement("div",{className:"card-body"},r.a.createElement("img",{src:"".concat("https://back-ghibli.herokuapp.com","/post/photo/").concat(e._id),alt:e.title,onError:function(e){return e.target.src="".concat(D.a)},className:"img-thumbnail mb-3",style:{height:"300px",width:"100%",objectFit:"cover"}}),c?r.a.createElement("h3",{onClick:a.likeToggle},r.a.createElement("i",{className:"fas fa-thumbs-up text-success bg-dark",style:{padding:"10px",borderRadius:"50%"}})," ",l):r.a.createElement("h3",null,r.a.createElement("i",{className:"fas fa-thumbs-up text-warning bg-dark",style:{padding:"10px",borderRadius:"50%"},onClick:a.likeToggle})," ",l),r.a.createElement("p",{className:"card-text"},e.body),r.a.createElement("br",null),r.a.createElement("p",{className:"font-italic mark"},"Posted by ",r.a.createElement(s.b,{to:"".concat(t)},n," "),"on ",new Date(e.created).toDateString()),r.a.createElement("div",{className:"d-inline-block"},r.a.createElement(s.b,{to:"/",className:"btn btn-raised btn-primary btn-sm mr-5"},"Back to post"),b().user&&b().user._id===e.postedBy._id&&r.a.createElement(r.a.Fragment,null,r.a.createElement(s.b,{to:"/post/edit/".concat(e._id),className:"btn btn-raised btn-warning btn-sm mr-5"},"Update Post"),r.a.createElement("button",{onClick:a.deleteConfirmed,className:"btn btn-raised btn-danger"},"Delete Post"))))},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state,t=e.post,a=e.redirectToHome,n=e.redirectToSignin,o=e.comments;return a?r.a.createElement(k.a,{to:"/"}):n?r.a.createElement(k.a,{to:"/signin"}):r.a.createElement("div",{className:"container"},r.a.createElement("h2",{className:"display-2 mt-5 mb-5"},t.title),t?this.renderPost(t):r.a.createElement("div",{className:"text-center"},r.a.createElement("h2",null,r.a.createElement("i",{class:"fas fa-stroopwafel fa-spin fa-2x"}))),r.a.createElement(ue,{postId:t._id,comments:o.reverse(),updateComments:this.updateComments}))}}]),t}(n.Component),de=a(35),he=function(e){var t=e.component,a=Object(de.a)(e,["component"]);return r.a.createElement(k.b,Object.assign({},a,{render:function(e){return b()?r.a.createElement(t,e):r.a.createElement(k.a,{to:{pathname:"/signin",state:{from:e.location}}})}}))},fe=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).resetPassword=function(e){e.preventDefault(),a.setState({message:"",error:""}),v({newPassword:a.state.newPassword,resetPasswordLink:a.props.match.params.resetPasswordToken}).then(function(e){e.error?(console.log(e.error),a.setState({error:e.error})):(console.log(e.message),a.setState({message:e.message,newPassword:""}))})},a.state={newPassword:"",message:"",error:""},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"container"},r.a.createElement("h2",{className:"mt-5 mb-5"},"Reset your Password"),this.state.message&&r.a.createElement("h4",{className:"bg-success"},this.state.message),this.state.error&&r.a.createElement("h4",{className:"bg-warning"},this.state.error),r.a.createElement("form",null,r.a.createElement("div",{className:"form-group mt-5"},r.a.createElement("input",{type:"password",className:"form-control",placeholder:"Your new password",value:this.state.newPassword,name:"newPassword",onChange:function(t){return e.setState({newPassword:t.target.value,message:"",error:""})},autoFocus:!0})),r.a.createElement("button",{onClick:this.resetPassword,className:"btn btn-raised btn-primary"},"Reset Password")))}}]),t}(n.Component),ge=function(){return r.a.createElement("div",null,r.a.createElement(L,null),r.a.createElement(k.d,null,r.a.createElement(k.b,{exact:!0,path:"/",component:I}),r.a.createElement(k.b,{exact:!0,path:"/forgot-password",component:y}),r.a.createElement(k.b,{exact:!0,path:"/reset-password/:resetPasswordToken",component:fe}),r.a.createElement(he,{exact:!0,path:"/post/create",component:ie}),r.a.createElement(k.b,{exact:!0,path:"/post/:postId",component:pe}),r.a.createElement(he,{exact:!0,path:"/post/edit/:postId",component:me}),r.a.createElement(k.b,{exact:!0,path:"/users",component:ce}),r.a.createElement(k.b,{exact:!0,path:"/signup",component:G}),r.a.createElement(k.b,{exact:!0,path:"/signin",component:$}),r.a.createElement(he,{exact:!0,path:"/user/edit/:userId",component:se}),r.a.createElement(he,{exact:!0,path:"/findpeople",component:le}),r.a.createElement(he,{exact:!0,path:"/user/:userId",component:oe})))},be=function(){return r.a.createElement(s.a,null,r.a.createElement(ge,null))};c.a.render(r.a.createElement(be,null),document.getElementById("root"))},8:function(e,t,a){e.exports=a.p+"static/media/avatar.01a02cd7.png"}},[[38,1,2]]]);
//# sourceMappingURL=main.45cb8293.chunk.js.map